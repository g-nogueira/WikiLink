{"version":3,"sources":["optionsPage/node_modules/browser-pack/_prelude.js","optionsPage/node_modules/@material/snackbar/dist/mdc.snackbar.js","optionsPage/optionsPage/index.js","optionsPage/utils/StorageManager.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACliCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/*!\n Material Components for the Web\n Copyright (c) 2018 Google Inc.\n License: Apache-2.0\n*/\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"snackbar\"] = factory();\n\telse\n\t\troot[\"mdc\"] = root[\"mdc\"] || {}, root[\"mdc\"][\"snackbar\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 99);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @template A\n */\nvar MDCFoundation = function () {\n  _createClass(MDCFoundation, null, [{\n    key: \"cssClasses\",\n\n    /** @return enum{cssClasses} */\n    get: function get() {\n      // Classes extending MDCFoundation should implement this method to return an object which exports every\n      // CSS class the foundation class needs as a property. e.g. {ACTIVE: 'mdc-component--active'}\n      return {};\n    }\n\n    /** @return enum{strings} */\n\n  }, {\n    key: \"strings\",\n    get: function get() {\n      // Classes extending MDCFoundation should implement this method to return an object which exports all\n      // semantic strings as constants. e.g. {ARIA_ROLE: 'tablist'}\n      return {};\n    }\n\n    /** @return enum{numbers} */\n\n  }, {\n    key: \"numbers\",\n    get: function get() {\n      // Classes extending MDCFoundation should implement this method to return an object which exports all\n      // of its semantic numbers as constants. e.g. {ANIMATION_DELAY_MS: 350}\n      return {};\n    }\n\n    /** @return {!Object} */\n\n  }, {\n    key: \"defaultAdapter\",\n    get: function get() {\n      // Classes extending MDCFoundation may choose to implement this getter in order to provide a convenient\n      // way of viewing the necessary methods of an adapter. In the future, this could also be used for adapter\n      // validation.\n      return {};\n    }\n\n    /**\n     * @param {A=} adapter\n     */\n\n  }]);\n\n  function MDCFoundation() {\n    var adapter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, MDCFoundation);\n\n    /** @protected {!A} */\n    this.adapter_ = adapter;\n  }\n\n  _createClass(MDCFoundation, [{\n    key: \"init\",\n    value: function init() {\n      // Subclasses should override this method to perform initialization routines (registering events, etc.)\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      // Subclasses should override this method to perform de-initialization routines (de-registering events, etc.)\n    }\n  }]);\n\n  return MDCFoundation;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (MDCFoundation);\n\n/***/ }),\n\n/***/ 1:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__foundation__ = __webpack_require__(0);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\n/**\n * @template F\n */\n\nvar MDCComponent = function () {\n  _createClass(MDCComponent, null, [{\n    key: 'attachTo',\n\n    /**\n     * @param {!Element} root\n     * @return {!MDCComponent}\n     */\n    value: function attachTo(root) {\n      // Subclasses which extend MDCBase should provide an attachTo() method that takes a root element and\n      // returns an instantiated component with its root set to that element. Also note that in the cases of\n      // subclasses, an explicit foundation class will not have to be passed in; it will simply be initialized\n      // from getDefaultFoundation().\n      return new MDCComponent(root, new __WEBPACK_IMPORTED_MODULE_0__foundation__[\"a\" /* default */]());\n    }\n\n    /**\n     * @param {!Element} root\n     * @param {F=} foundation\n     * @param {...?} args\n     */\n\n  }]);\n\n  function MDCComponent(root) {\n    var foundation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n    _classCallCheck(this, MDCComponent);\n\n    /** @protected {!Element} */\n    this.root_ = root;\n\n    for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    this.initialize.apply(this, args);\n    // Note that we initialize foundation here and not within the constructor's default param so that\n    // this.root_ is defined and can be used within the foundation class.\n    /** @protected {!F} */\n    this.foundation_ = foundation === undefined ? this.getDefaultFoundation() : foundation;\n    this.foundation_.init();\n    this.initialSyncWithDOM();\n  }\n\n  _createClass(MDCComponent, [{\n    key: 'initialize',\n    value: function initialize() /* ...args */{}\n    // Subclasses can override this to do any additional setup work that would be considered part of a\n    // \"constructor\". Essentially, it is a hook into the parent constructor before the foundation is\n    // initialized. Any additional arguments besides root and foundation will be passed in here.\n\n\n    /**\n     * @return {!F} foundation\n     */\n\n  }, {\n    key: 'getDefaultFoundation',\n    value: function getDefaultFoundation() {\n      // Subclasses must override this method to return a properly configured foundation class for the\n      // component.\n      throw new Error('Subclasses must override getDefaultFoundation to return a properly configured ' + 'foundation class');\n    }\n  }, {\n    key: 'initialSyncWithDOM',\n    value: function initialSyncWithDOM() {\n      // Subclasses should override this method if they need to perform work to synchronize with a host DOM\n      // object. An example of this would be a form control wrapper that needs to synchronize its internal state\n      // to some property or attribute of the host DOM. Please note: this is *not* the place to perform DOM\n      // reads/writes that would cause layout / paint, as this is called synchronously from within the constructor.\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      // Subclasses may implement this method to release any resources / deregister any listeners they have\n      // attached. An example of this might be deregistering a resize event from the window object.\n      this.foundation_.destroy();\n    }\n\n    /**\n     * Wrapper method to add an event listener to the component's root element. This is most useful when\n     * listening for custom events.\n     * @param {string} evtType\n     * @param {!Function} handler\n     */\n\n  }, {\n    key: 'listen',\n    value: function listen(evtType, handler) {\n      this.root_.addEventListener(evtType, handler);\n    }\n\n    /**\n     * Wrapper method to remove an event listener to the component's root element. This is most useful when\n     * unlistening for custom events.\n     * @param {string} evtType\n     * @param {!Function} handler\n     */\n\n  }, {\n    key: 'unlisten',\n    value: function unlisten(evtType, handler) {\n      this.root_.removeEventListener(evtType, handler);\n    }\n\n    /**\n     * Fires a cross-browser-compatible custom event from the component root of the given type,\n     * with the given data.\n     * @param {string} evtType\n     * @param {!Object} evtData\n     * @param {boolean=} shouldBubble\n     */\n\n  }, {\n    key: 'emit',\n    value: function emit(evtType, evtData) {\n      var shouldBubble = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      var evt = void 0;\n      if (typeof CustomEvent === 'function') {\n        evt = new CustomEvent(evtType, {\n          detail: evtData,\n          bubbles: shouldBubble\n        });\n      } else {\n        evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(evtType, shouldBubble, false, evtData);\n      }\n\n      this.root_.dispatchEvent(evt);\n    }\n  }]);\n\n  return MDCComponent;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (MDCComponent);\n\n/***/ }),\n\n/***/ 100:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__material_base_index__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants__ = __webpack_require__(101);\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\n\nvar MDCSnackbarFoundation = function (_MDCFoundation) {\n  _inherits(MDCSnackbarFoundation, _MDCFoundation);\n\n  _createClass(MDCSnackbarFoundation, [{\n    key: 'active',\n    get: function get() {\n      return this.active_;\n    }\n  }], [{\n    key: 'cssClasses',\n    get: function get() {\n      return __WEBPACK_IMPORTED_MODULE_1__constants__[\"a\" /* cssClasses */];\n    }\n  }, {\n    key: 'strings',\n    get: function get() {\n      return __WEBPACK_IMPORTED_MODULE_1__constants__[\"c\" /* strings */];\n    }\n  }, {\n    key: 'defaultAdapter',\n    get: function get() {\n      return {\n        addClass: function addClass() /* className: string */{},\n        removeClass: function removeClass() /* className: string */{},\n        setAriaHidden: function setAriaHidden() {},\n        unsetAriaHidden: function unsetAriaHidden() {},\n        setActionAriaHidden: function setActionAriaHidden() {},\n        unsetActionAriaHidden: function unsetActionAriaHidden() {},\n        setActionText: function setActionText() /* actionText: string */{},\n        setMessageText: function setMessageText() /* message: string */{},\n        setFocus: function setFocus() {},\n        visibilityIsHidden: function visibilityIsHidden() {\n          return (/* boolean */false\n          );\n        },\n        registerCapturedBlurHandler: function registerCapturedBlurHandler() /* handler: EventListener */{},\n        deregisterCapturedBlurHandler: function deregisterCapturedBlurHandler() /* handler: EventListener */{},\n        registerVisibilityChangeHandler: function registerVisibilityChangeHandler() /* handler: EventListener */{},\n        deregisterVisibilityChangeHandler: function deregisterVisibilityChangeHandler() /* handler: EventListener */{},\n        registerCapturedInteractionHandler: function registerCapturedInteractionHandler() /* evtType: string, handler: EventListener */{},\n        deregisterCapturedInteractionHandler: function deregisterCapturedInteractionHandler() /* evtType: string, handler: EventListener */{},\n        registerActionClickHandler: function registerActionClickHandler() /* handler: EventListener */{},\n        deregisterActionClickHandler: function deregisterActionClickHandler() /* handler: EventListener */{},\n        registerTransitionEndHandler: function registerTransitionEndHandler() /* handler: EventListener */{},\n        deregisterTransitionEndHandler: function deregisterTransitionEndHandler() /* handler: EventListener */{},\n        notifyShow: function notifyShow() {},\n        notifyHide: function notifyHide() {}\n      };\n    }\n  }]);\n\n  function MDCSnackbarFoundation(adapter) {\n    _classCallCheck(this, MDCSnackbarFoundation);\n\n    var _this = _possibleConstructorReturn(this, (MDCSnackbarFoundation.__proto__ || Object.getPrototypeOf(MDCSnackbarFoundation)).call(this, _extends(MDCSnackbarFoundation.defaultAdapter, adapter)));\n\n    _this.active_ = false;\n    _this.actionWasClicked_ = false;\n    _this.dismissOnAction_ = true;\n    _this.firstFocus_ = true;\n    _this.pointerDownRecognized_ = false;\n    _this.snackbarHasFocus_ = false;\n    _this.snackbarData_ = null;\n    _this.queue_ = [];\n    _this.actionClickHandler_ = function () {\n      _this.actionWasClicked_ = true;\n      _this.invokeAction_();\n    };\n    _this.visibilitychangeHandler_ = function () {\n      clearTimeout(_this.timeoutId_);\n      _this.snackbarHasFocus_ = true;\n\n      if (!_this.adapter_.visibilityIsHidden()) {\n        setTimeout(_this.cleanup_.bind(_this), _this.snackbarData_.timeout || __WEBPACK_IMPORTED_MODULE_1__constants__[\"b\" /* numbers */].MESSAGE_TIMEOUT);\n      }\n    };\n    _this.interactionHandler_ = function (evt) {\n      if (evt.type == 'touchstart' || evt.type == 'mousedown') {\n        _this.pointerDownRecognized_ = true;\n      }\n      _this.handlePossibleTabKeyboardFocus_(evt);\n\n      if (evt.type == 'focus') {\n        _this.pointerDownRecognized_ = false;\n      }\n    };\n    _this.blurHandler_ = function () {\n      clearTimeout(_this.timeoutId_);\n      _this.snackbarHasFocus_ = false;\n      _this.timeoutId_ = setTimeout(_this.cleanup_.bind(_this), _this.snackbarData_.timeout || __WEBPACK_IMPORTED_MODULE_1__constants__[\"b\" /* numbers */].MESSAGE_TIMEOUT);\n    };\n    return _this;\n  }\n\n  _createClass(MDCSnackbarFoundation, [{\n    key: 'init',\n    value: function init() {\n      this.adapter_.registerActionClickHandler(this.actionClickHandler_);\n      this.adapter_.setAriaHidden();\n      this.adapter_.setActionAriaHidden();\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      var _this2 = this;\n\n      this.adapter_.deregisterActionClickHandler(this.actionClickHandler_);\n      this.adapter_.deregisterCapturedBlurHandler(this.blurHandler_);\n      this.adapter_.deregisterVisibilityChangeHandler(this.visibilitychangeHandler_);\n      ['touchstart', 'mousedown', 'focus'].forEach(function (evtType) {\n        _this2.adapter_.deregisterCapturedInteractionHandler(evtType, _this2.interactionHandler_);\n      });\n    }\n  }, {\n    key: 'dismissesOnAction',\n    value: function dismissesOnAction() {\n      return this.dismissOnAction_;\n    }\n  }, {\n    key: 'setDismissOnAction',\n    value: function setDismissOnAction(dismissOnAction) {\n      this.dismissOnAction_ = !!dismissOnAction;\n    }\n  }, {\n    key: 'show',\n    value: function show(data) {\n      var _this3 = this;\n\n      if (!data) {\n        throw new Error('Please provide a data object with at least a message to display.');\n      }\n      if (!data.message) {\n        throw new Error('Please provide a message to be displayed.');\n      }\n      if (data.actionHandler && !data.actionText) {\n        throw new Error('Please provide action text with the handler.');\n      }\n      if (this.active) {\n        this.queue_.push(data);\n        return;\n      }\n      clearTimeout(this.timeoutId_);\n      this.snackbarData_ = data;\n      this.firstFocus_ = true;\n      this.adapter_.registerVisibilityChangeHandler(this.visibilitychangeHandler_);\n      this.adapter_.registerCapturedBlurHandler(this.blurHandler_);\n      ['touchstart', 'mousedown', 'focus'].forEach(function (evtType) {\n        _this3.adapter_.registerCapturedInteractionHandler(evtType, _this3.interactionHandler_);\n      });\n\n      var ACTIVE = __WEBPACK_IMPORTED_MODULE_1__constants__[\"a\" /* cssClasses */].ACTIVE,\n          MULTILINE = __WEBPACK_IMPORTED_MODULE_1__constants__[\"a\" /* cssClasses */].MULTILINE,\n          ACTION_ON_BOTTOM = __WEBPACK_IMPORTED_MODULE_1__constants__[\"a\" /* cssClasses */].ACTION_ON_BOTTOM;\n\n\n      this.adapter_.setMessageText(this.snackbarData_.message);\n\n      if (this.snackbarData_.multiline) {\n        this.adapter_.addClass(MULTILINE);\n        if (this.snackbarData_.actionOnBottom) {\n          this.adapter_.addClass(ACTION_ON_BOTTOM);\n        }\n      }\n\n      if (this.snackbarData_.actionHandler) {\n        this.adapter_.setActionText(this.snackbarData_.actionText);\n        this.actionHandler_ = this.snackbarData_.actionHandler;\n        this.setActionHidden_(false);\n      } else {\n        this.setActionHidden_(true);\n        this.actionHandler_ = null;\n        this.adapter_.setActionText(null);\n      }\n\n      this.active_ = true;\n      this.adapter_.addClass(ACTIVE);\n      this.adapter_.unsetAriaHidden();\n      this.adapter_.notifyShow();\n\n      this.timeoutId_ = setTimeout(this.cleanup_.bind(this), this.snackbarData_.timeout || __WEBPACK_IMPORTED_MODULE_1__constants__[\"b\" /* numbers */].MESSAGE_TIMEOUT);\n    }\n  }, {\n    key: 'handlePossibleTabKeyboardFocus_',\n    value: function handlePossibleTabKeyboardFocus_() {\n      var hijackFocus = this.firstFocus_ && !this.pointerDownRecognized_;\n\n      if (hijackFocus) {\n        this.setFocusOnAction_();\n      }\n\n      this.firstFocus_ = false;\n    }\n  }, {\n    key: 'setFocusOnAction_',\n    value: function setFocusOnAction_() {\n      this.adapter_.setFocus();\n      this.snackbarHasFocus_ = true;\n      this.firstFocus_ = false;\n    }\n  }, {\n    key: 'invokeAction_',\n    value: function invokeAction_() {\n      try {\n        if (!this.actionHandler_) {\n          return;\n        }\n\n        this.actionHandler_();\n      } finally {\n        if (this.dismissOnAction_) {\n          this.cleanup_();\n        }\n      }\n    }\n  }, {\n    key: 'cleanup_',\n    value: function cleanup_() {\n      var _this4 = this;\n\n      var allowDismissal = !this.snackbarHasFocus_ || this.actionWasClicked_;\n\n      if (allowDismissal) {\n        var ACTIVE = __WEBPACK_IMPORTED_MODULE_1__constants__[\"a\" /* cssClasses */].ACTIVE,\n            MULTILINE = __WEBPACK_IMPORTED_MODULE_1__constants__[\"a\" /* cssClasses */].MULTILINE,\n            ACTION_ON_BOTTOM = __WEBPACK_IMPORTED_MODULE_1__constants__[\"a\" /* cssClasses */].ACTION_ON_BOTTOM;\n\n\n        this.adapter_.removeClass(ACTIVE);\n\n        var handler = function handler() {\n          clearTimeout(_this4.timeoutId_);\n          _this4.adapter_.deregisterTransitionEndHandler(handler);\n          _this4.adapter_.removeClass(MULTILINE);\n          _this4.adapter_.removeClass(ACTION_ON_BOTTOM);\n          _this4.setActionHidden_(true);\n          _this4.adapter_.setAriaHidden();\n          _this4.active_ = false;\n          _this4.snackbarHasFocus_ = false;\n          _this4.adapter_.notifyHide();\n          _this4.showNext_();\n        };\n\n        this.adapter_.registerTransitionEndHandler(handler);\n      }\n    }\n  }, {\n    key: 'showNext_',\n    value: function showNext_() {\n      if (!this.queue_.length) {\n        return;\n      }\n      this.show(this.queue_.shift());\n    }\n  }, {\n    key: 'setActionHidden_',\n    value: function setActionHidden_(isHidden) {\n      if (isHidden) {\n        this.adapter_.setActionAriaHidden();\n      } else {\n        this.adapter_.unsetActionAriaHidden();\n      }\n    }\n  }]);\n\n  return MDCSnackbarFoundation;\n}(__WEBPACK_IMPORTED_MODULE_0__material_base_index__[\"MDCFoundation\"]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (MDCSnackbarFoundation);\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return cssClasses; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return strings; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return numbers; });\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar cssClasses = {\n  ROOT: 'mdc-snackbar',\n  TEXT: 'mdc-snackbar__text',\n  ACTION_WRAPPER: 'mdc-snackbar__action-wrapper',\n  ACTION_BUTTON: 'mdc-snackbar__action-button',\n  ACTIVE: 'mdc-snackbar--active',\n  MULTILINE: 'mdc-snackbar--multiline',\n  ACTION_ON_BOTTOM: 'mdc-snackbar--action-on-bottom'\n};\n\nvar strings = {\n  TEXT_SELECTOR: '.mdc-snackbar__text',\n  ACTION_WRAPPER_SELECTOR: '.mdc-snackbar__action-wrapper',\n  ACTION_BUTTON_SELECTOR: '.mdc-snackbar__action-button',\n  SHOW_EVENT: 'MDCSnackbar:show',\n  HIDE_EVENT: 'MDCSnackbar:hide'\n};\n\nvar numbers = {\n  MESSAGE_TIMEOUT: 2750\n};\n\n/***/ }),\n\n/***/ 7:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__foundation__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__component__ = __webpack_require__(1);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"MDCFoundation\", function() { return __WEBPACK_IMPORTED_MODULE_0__foundation__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"MDCComponent\", function() { return __WEBPACK_IMPORTED_MODULE_1__component__[\"a\"]; });\n/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\n\n\n\n/***/ }),\n\n/***/ 8:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"transformStyleProperties\", function() { return transformStyleProperties; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCorrectEventName\", function() { return getCorrectEventName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCorrectPropertyName\", function() { return getCorrectPropertyName; });\n/**\n * @license\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @typedef {{\n *   noPrefix: string,\n *   webkitPrefix: string,\n *   styleProperty: string\n * }}\n */\nvar VendorPropertyMapType = void 0;\n\n/** @const {Object<string, !VendorPropertyMapType>} */\nvar eventTypeMap = {\n  'animationstart': {\n    noPrefix: 'animationstart',\n    webkitPrefix: 'webkitAnimationStart',\n    styleProperty: 'animation'\n  },\n  'animationend': {\n    noPrefix: 'animationend',\n    webkitPrefix: 'webkitAnimationEnd',\n    styleProperty: 'animation'\n  },\n  'animationiteration': {\n    noPrefix: 'animationiteration',\n    webkitPrefix: 'webkitAnimationIteration',\n    styleProperty: 'animation'\n  },\n  'transitionend': {\n    noPrefix: 'transitionend',\n    webkitPrefix: 'webkitTransitionEnd',\n    styleProperty: 'transition'\n  }\n};\n\n/** @const {Object<string, !VendorPropertyMapType>} */\nvar cssPropertyMap = {\n  'animation': {\n    noPrefix: 'animation',\n    webkitPrefix: '-webkit-animation'\n  },\n  'transform': {\n    noPrefix: 'transform',\n    webkitPrefix: '-webkit-transform'\n  },\n  'transition': {\n    noPrefix: 'transition',\n    webkitPrefix: '-webkit-transition'\n  }\n};\n\n/**\n * @param {!Object} windowObj\n * @return {boolean}\n */\nfunction hasProperShape(windowObj) {\n  return windowObj['document'] !== undefined && typeof windowObj['document']['createElement'] === 'function';\n}\n\n/**\n * @param {string} eventType\n * @return {boolean}\n */\nfunction eventFoundInMaps(eventType) {\n  return eventType in eventTypeMap || eventType in cssPropertyMap;\n}\n\n/**\n * @param {string} eventType\n * @param {!Object<string, !VendorPropertyMapType>} map\n * @param {!Element} el\n * @return {string}\n */\nfunction getJavaScriptEventName(eventType, map, el) {\n  return map[eventType].styleProperty in el.style ? map[eventType].noPrefix : map[eventType].webkitPrefix;\n}\n\n/**\n * Helper function to determine browser prefix for CSS3 animation events\n * and property names.\n * @param {!Object} windowObj\n * @param {string} eventType\n * @return {string}\n */\nfunction getAnimationName(windowObj, eventType) {\n  if (!hasProperShape(windowObj) || !eventFoundInMaps(eventType)) {\n    return eventType;\n  }\n\n  var map = /** @type {!Object<string, !VendorPropertyMapType>} */eventType in eventTypeMap ? eventTypeMap : cssPropertyMap;\n  var el = windowObj['document']['createElement']('div');\n  var eventName = '';\n\n  if (map === eventTypeMap) {\n    eventName = getJavaScriptEventName(eventType, map, el);\n  } else {\n    eventName = map[eventType].noPrefix in el.style ? map[eventType].noPrefix : map[eventType].webkitPrefix;\n  }\n\n  return eventName;\n}\n\n// Public functions to access getAnimationName() for JavaScript events or CSS\n// property names.\n\nvar transformStyleProperties = ['transform', 'WebkitTransform', 'MozTransform', 'OTransform', 'MSTransform'];\n\n/**\n * @param {!Object} windowObj\n * @param {string} eventType\n * @return {string}\n */\nfunction getCorrectEventName(windowObj, eventType) {\n  return getAnimationName(windowObj, eventType);\n}\n\n/**\n * @param {!Object} windowObj\n * @param {string} eventType\n * @return {string}\n */\nfunction getCorrectPropertyName(windowObj, eventType) {\n  return getAnimationName(windowObj, eventType);\n}\n\n\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MDCSnackbar\", function() { return MDCSnackbar; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__material_base_index__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__foundation__ = __webpack_require__(100);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__material_animation_index__ = __webpack_require__(8);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"MDCSnackbarFoundation\", function() { return __WEBPACK_IMPORTED_MODULE_1__foundation__[\"a\"]; });\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\n\n\n\n\nvar MDCSnackbar = function (_MDCComponent) {\n  _inherits(MDCSnackbar, _MDCComponent);\n\n  function MDCSnackbar() {\n    _classCallCheck(this, MDCSnackbar);\n\n    return _possibleConstructorReturn(this, (MDCSnackbar.__proto__ || Object.getPrototypeOf(MDCSnackbar)).apply(this, arguments));\n  }\n\n  _createClass(MDCSnackbar, [{\n    key: 'show',\n    value: function show(data) {\n      this.foundation_.show(data);\n    }\n  }, {\n    key: 'getDefaultFoundation',\n    value: function getDefaultFoundation() {\n      var _this2 = this;\n\n      var _MDCSnackbarFoundatio = __WEBPACK_IMPORTED_MODULE_1__foundation__[\"a\" /* default */].strings,\n          TEXT_SELECTOR = _MDCSnackbarFoundatio.TEXT_SELECTOR,\n          ACTION_BUTTON_SELECTOR = _MDCSnackbarFoundatio.ACTION_BUTTON_SELECTOR;\n\n      var getText = function getText() {\n        return _this2.root_.querySelector(TEXT_SELECTOR);\n      };\n      var getActionButton = function getActionButton() {\n        return _this2.root_.querySelector(ACTION_BUTTON_SELECTOR);\n      };\n\n      /* eslint brace-style: \"off\" */\n      return new __WEBPACK_IMPORTED_MODULE_1__foundation__[\"a\" /* default */]({\n        addClass: function addClass(className) {\n          return _this2.root_.classList.add(className);\n        },\n        removeClass: function removeClass(className) {\n          return _this2.root_.classList.remove(className);\n        },\n        setAriaHidden: function setAriaHidden() {\n          return _this2.root_.setAttribute('aria-hidden', 'true');\n        },\n        unsetAriaHidden: function unsetAriaHidden() {\n          return _this2.root_.removeAttribute('aria-hidden');\n        },\n        setActionAriaHidden: function setActionAriaHidden() {\n          return getActionButton().setAttribute('aria-hidden', 'true');\n        },\n        unsetActionAriaHidden: function unsetActionAriaHidden() {\n          return getActionButton().removeAttribute('aria-hidden');\n        },\n        setActionText: function setActionText(text) {\n          getActionButton().textContent = text;\n        },\n        setMessageText: function setMessageText(text) {\n          getText().textContent = text;\n        },\n        setFocus: function setFocus() {\n          return getActionButton().focus();\n        },\n        visibilityIsHidden: function visibilityIsHidden() {\n          return document.hidden;\n        },\n        registerCapturedBlurHandler: function registerCapturedBlurHandler(handler) {\n          return getActionButton().addEventListener('blur', handler, true);\n        },\n        deregisterCapturedBlurHandler: function deregisterCapturedBlurHandler(handler) {\n          return getActionButton().removeEventListener('blur', handler, true);\n        },\n        registerVisibilityChangeHandler: function registerVisibilityChangeHandler(handler) {\n          return document.addEventListener('visibilitychange', handler);\n        },\n        deregisterVisibilityChangeHandler: function deregisterVisibilityChangeHandler(handler) {\n          return document.removeEventListener('visibilitychange', handler);\n        },\n        registerCapturedInteractionHandler: function registerCapturedInteractionHandler(evt, handler) {\n          return document.body.addEventListener(evt, handler, true);\n        },\n        deregisterCapturedInteractionHandler: function deregisterCapturedInteractionHandler(evt, handler) {\n          return document.body.removeEventListener(evt, handler, true);\n        },\n        registerActionClickHandler: function registerActionClickHandler(handler) {\n          return getActionButton().addEventListener('click', handler);\n        },\n        deregisterActionClickHandler: function deregisterActionClickHandler(handler) {\n          return getActionButton().removeEventListener('click', handler);\n        },\n        registerTransitionEndHandler: function registerTransitionEndHandler(handler) {\n          return _this2.root_.addEventListener(Object(__WEBPACK_IMPORTED_MODULE_2__material_animation_index__[\"getCorrectEventName\"])(window, 'transitionend'), handler);\n        },\n        deregisterTransitionEndHandler: function deregisterTransitionEndHandler(handler) {\n          return _this2.root_.removeEventListener(Object(__WEBPACK_IMPORTED_MODULE_2__material_animation_index__[\"getCorrectEventName\"])(window, 'transitionend'), handler);\n        },\n        notifyShow: function notifyShow() {\n          return _this2.emit(__WEBPACK_IMPORTED_MODULE_1__foundation__[\"a\" /* default */].strings.SHOW_EVENT);\n        },\n        notifyHide: function notifyHide() {\n          return _this2.emit(__WEBPACK_IMPORTED_MODULE_1__foundation__[\"a\" /* default */].strings.HIDE_EVENT);\n        }\n      });\n    }\n  }, {\n    key: 'dismissesOnAction',\n    get: function get() {\n      return this.foundation_.dismissesOnAction();\n    },\n    set: function set(dismissesOnAction) {\n      this.foundation_.setDismissOnAction(dismissesOnAction);\n    }\n  }], [{\n    key: 'attachTo',\n    value: function attachTo(root) {\n      return new MDCSnackbar(root);\n    }\n  }]);\n\n  return MDCSnackbar;\n}(__WEBPACK_IMPORTED_MODULE_0__material_base_index__[\"MDCComponent\"]);\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=mdc.snackbar.js.map","(function() {\r\n\t'use strict';\r\n\t/**\r\n\t * Shorthand function for querySelector\r\n\t * @param {string} el \r\n\t * @returns {HTMLElement} \r\n\t */\r\n\tconst DOM = elem => document.body.querySelector(elem);\r\n\r\n\tvar mdc = require(\"@material/snackbar/dist/mdc.snackbar\");\r\n\tconst popoverDB = require(\"../utils/StorageManager\");\r\n\tconst MDCSnackbar = mdc.MDCSnackbar;\r\n\tconst MDCSnackbarFoundation = mdc.MDCSnackbarFoundation;\r\n\tmdc.MDCSnackbar.attachTo(DOM('.mdc-snackbar'));\r\n\tconst snackbar = new MDCSnackbar(DOM('.mdc-snackbar'))\r\n\tvar shortcutSnapshot = '';\r\n\tvar keyGroup = {\r\n\t\tcodes: [],\r\n\t\tpressing: []\r\n\t};\r\n\r\n\tinitializer().DOMEvents()\r\n\tinitializer().elementsValues()\r\n\tinitializer().storageEvents()\r\n\r\n\r\n\r\n\t////////////////// IMPLEMENTATION //////////////////\r\n\r\n\tfunction initializer() {\r\n\r\n\t\t/**\r\n\t\t * Initializes DOM events listeners\r\n\t\t */\r\n\t\tfunction DOMEvents() {\r\n\t\t\tDOM('.js-popupShortcut').addEventListener('keydown', onKeyDown);\r\n\t\t\tDOM('.js-popupShortcut').addEventListener('keyup', onKeyUp);\r\n\t\t\tDOM('.js-popupShortcut').addEventListener('focus', onFocus);\r\n\t\t\tDOM('.js-popupShortcut').addEventListener('focusout', onFocusOut);\r\n\t\t\tDOM('.js-popupMode').addEventListener('change', savePopupMode);\r\n\t\t\tDOM('.js-fallbackLanguage').addEventListener('change', saveLanguage);\r\n\t\t\tDOM('.js-nlpLanguages').addEventListener('change', saveNlpLanguages);\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Initializes DOM Elements values\r\n\t\t */\r\n\t\tfunction elementsValues() {\r\n\t\t\tsyncValues();\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Initializes storage changes listeners.\r\n\t\t */\r\n\t\tfunction storageEvents() {\r\n\t\t\tpopoverDB.onChanges(syncValues);\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tDOMEvents,\r\n\t\t\telementsValues,\r\n\t\t\tstorageEvents\r\n\t\t};\r\n\r\n\t}\r\n\r\n\tfunction onFocus(ev) {\r\n\t\tvar val = DOM('.js-popupShortcut').value;\r\n\t\tif (val) {\r\n\t\t\tshortcutSnapshot = val;\r\n\t\t}\r\n\t\tDOM('.js-popupShortcut').value = '';\r\n\t}\r\n\r\n\tfunction onFocusOut(ev) {\r\n\t\tif (DOM('.js-popupShortcut').value) {\r\n\t\t\tsaveShortcut();\r\n\t\t\tsnackbar.show({ message: 'Shortcut saved!' });\r\n\t\t} else {\r\n\t\t\tDOM('.js-popupShortcut').value = shortcutSnapshot;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onKeyDown(ev) {\r\n\t\tconsole.log(keyGroup.pressing);\r\n\t\tif (keyGroup.pressing.length === 0) {\r\n\t\t\tkeyGroup.codes = [];\r\n\t\t}\r\n\t\tif (keyGroup.codes.length < 3 && !keyGroup.codes.includes(ev.code)) {\r\n\t\t\tkeyGroup.pressing.push(ev.keyCode);\r\n\t\t\tkeyGroup.codes.push(ev.code);\r\n\t\t\tDOM('.js-popupShortcut').value = keyGroup.codes.toString();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onKeyUp(ev) {\r\n\t\tconsole.log(keyGroup.pressing);\r\n\t\tvar index = keyGroup.codes.indexOf(ev.code);\r\n\t\tif (index !== -1) {\r\n\t\t\tkeyGroup.pressing.splice(index, 1);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tasync function syncValues(oldV, newV) {\r\n\t\tvar fallbackLang = newV && newV['fallbackLang'] || await popoverDB.retrieve('fallbackLang');\r\n\t\tvar popupMode = newV && newV['popupMode'] || await popoverDB.retrieve('popupMode');\r\n\t\tvar nlpLangs = newV && newV['nlpLangs'] || await popoverDB.retrieve('nlpLangs');\r\n\t\tvar shortcut = newV && newV['shortcut'] || await popoverDB.retrieve('shortcut');\r\n\r\n\t\tDOM('.js-fallbackLanguage').value = fallbackLang;\r\n\t\tDOM('.js-popupMode').value = popupMode;\r\n\t\tDOM('.js-popupShortcut').value = shortcut.toString();\r\n\r\n\t\tvar checkboxList = document.body.querySelectorAll('.js-nlpLang');\r\n\t\tcheckboxList.forEach(chkbx => {\r\n\t\t\tif (nlpLangs.includes(chkbx.value)) {\r\n\t\t\t\tchkbx.checked = true;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction saveLanguage() {\r\n\t\tvar fallbackLanguage = DOM('.js-fallbackLanguage').value;\r\n\t\tpopoverDB.update('fallbackLang', fallbackLanguage).then(resp => {\r\n\t\t\tsnackbar.show({ message: '  Language definitions saved' });\r\n\t\t})\r\n\t}\r\n\r\n\tfunction savePopupMode() {\r\n\t\tvar popupMode = DOM('.js-popupMode').value;\r\n\t\tpopoverDB.update('popupMode', popupMode).then(resp => {\r\n\t\t\tsnackbar.show({ message: ' Popup trigger definitions saved' });\r\n\t\t});\r\n\t}\r\n\r\n\tfunction saveShortcut() {\r\n\t\tvar shortcut = keyGroup.codes;\r\n\t\tpopoverDB.update('shortcut', shortcut)\r\n\t\t\t.then(resp => {\r\n\t\t\t\tsnackbar.show({ message: ' Shortcut definitions saved' });\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction saveNlpLanguages() {\r\n\t\tvar languages = [];\r\n\t\tvar checkboxList = document.body.querySelectorAll('.js-nlpLang');\r\n\r\n\t\tcheckboxList.forEach(chkbx => {\r\n\t\t\tif (chkbx.checked) {\r\n\t\t\t\tlanguages.push(chkbx.value);\r\n\t\t\t}\r\n\t\t});\r\n\t\tpopoverDB.update('nlpLangs', languages).then(resp => {\r\n\t\t\tsnackbar.show({ message: ' Search Languages definitions saved' });\r\n\t\t});\r\n\t}\r\n}());","(() => {\r\n\t'use strict';\r\n\r\n\r\n\t/**\r\n\t * Manages and facilitate storage (chrome.storage.sync) requests and watchers.\r\n\t */\r\n\tclass PopoverDB {\r\n\r\n\t\tconstructor() {\r\n\t\t\tthis._errorCode = {\r\n\t\t\t\t1: key => `Object \"${key}\" not found`,\r\n\t\t\t\t2: (key, property) => `Object property \"${key}.${property}\" not found in storage.`,\r\n\t\t\t\t3: property => `Object property \".${property}\" not found in storage.`\r\n\t\t\t};\r\n\r\n\t\t\tthis._encodeProp = propertyName => {\r\n\r\n\t\t\t\tlet props = {\r\n\t\t\t\t\tisEnabled: 5,\r\n\t\t\t\t\tfallbackLang: 1,\r\n\t\t\t\t\tnlpLangs: 4,\r\n\t\t\t\t\tshortcut: 3,\r\n\t\t\t\t\tpopupMode: 2\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn props[propertyName];\r\n\t\t\t}\r\n\r\n\t\t\tthis._decodeProp = propertyName => {\r\n\r\n\t\t\t\tlet props = {\r\n\t\t\t\t\t5: 'isEnabled',\r\n\t\t\t\t\t1: 'fallbackLang',\r\n\t\t\t\t\t4: 'nlpLangs',\r\n\t\t\t\t\t3: 'shortcut',\r\n\t\t\t\t\t2: 'popupMode'\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn props[propertyName];\r\n\t\t\t}\r\n\r\n\t\t\tthis._decodeObj = obj => {\r\n\t\t\t\tlet decodedObj = {};\r\n\t\t\t\tObject.keys(obj).forEach(key => {\r\n\t\t\t\t\tdecodedObj[this._decodeProp(key)] = obj[key];\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn decodedObj;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tupdate(property, value) {\r\n\t\t\treturn new Promise(async (resolve, reject) => {\r\n\t\t\t\tvar dataString = '';\r\n\t\t\t\tvar data = await this.retrieve();\r\n\r\n\t\t\t\tdata[this._encodeProp(property)] = value;\r\n\t\t\t\tdataString = JSON.stringify(data);\r\n\r\n\t\t\t\tchrome.storage.sync.set({\r\n\t\t\t\t\twldt: dataString\r\n\t\t\t\t}, () => resolve(true));\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tretrieve(property = '') {\r\n\t\t\tvar errorCount = 0;\r\n\t\t\treturn new Promise(async (resolve, reject) => {\r\n\t\t\t\tvar dataString = '';\r\n\t\t\t\ttry {\r\n\t\t\t\t\tdataString = await new Promise(resolve => chrome.storage.sync.get('wldt', obj => resolve(obj['wldt'])));\r\n\t\t\t\t\tvar data = JSON.parse(dataString);\r\n\r\n\t\t\t\t\tif (property.length > 0)\r\n\t\t\t\t\t\tresolve(data[this._encodeProp(property)])\r\n\t\t\t\t\telse resolve(data);\r\n\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\terrorCount += 1;\r\n\t\t\t\t\tif (errorCount >= 2) {\r\n\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet wikilinkData = JSON.stringify({\r\n\t\t\t\t\t\t\t1: 'en',\r\n\t\t\t\t\t\t\t2: 'shortcut',\r\n\t\t\t\t\t\t\t3: ['ShiftLeft', 'AltLeft'],\r\n\t\t\t\t\t\t\t4: ['por', 'eng', 'esp', 'rus'],\r\n\t\t\t\t\t\t\t5: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tchrome.storage.sync.set({ wldt: wikilinkData }, () => this.retrieve(property));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\t/**\r\n\t\t * Listens to storage changes in given object and executes a function in a onChanged event.\r\n\t\t * @param {*} objName The name of the object in the storage to listens.\r\n\t\t * @returns {object} A function to pass as an argument the function to execute on event.\r\n\t\t */\r\n\t\tonChanges(fn) {\r\n\r\n\t\t\tvar decodedObj = this._decodeObj;\r\n\r\n\t\t\tchrome.storage.onChanged.addListener((changes, areaName) => {\r\n\t\t\t\t//Popover enabled state changed\r\n\t\t\t\tif (changes['wldt']) {\r\n\t\t\t\t\tfn(decodedObj(JSON.parse(changes['wldt'].oldValue)), decodedObj(JSON.parse(changes['wldt'].newValue)));\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tmodule.exports = new PopoverDB();\r\n\r\n})();"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvQG1hdGVyaWFsL3NuYWNrYmFyL2Rpc3QvbWRjLnNuYWNrYmFyLmpzIiwib3B0aW9uc1BhZ2UvaW5kZXguanMiLCJ1dGlscy9TdG9yYWdlTWFuYWdlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsaUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9KQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKiFcbiBNYXRlcmlhbCBDb21wb25lbnRzIGZvciB0aGUgV2ViXG4gQ29weXJpZ2h0IChjKSAyMDE4IEdvb2dsZSBJbmMuXG4gTGljZW5zZTogQXBhY2hlLTIuMFxuKi9cbihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcInNuYWNrYmFyXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIm1kY1wiXSA9IHJvb3RbXCJtZGNcIl0gfHwge30sIHJvb3RbXCJtZGNcIl1bXCJzbmFja2JhclwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIC8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA5OSk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovICh7XG5cbi8qKiovIDA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIEFcbiAqL1xudmFyIE1EQ0ZvdW5kYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gIF9jcmVhdGVDbGFzcyhNRENGb3VuZGF0aW9uLCBudWxsLCBbe1xuICAgIGtleTogXCJjc3NDbGFzc2VzXCIsXG5cbiAgICAvKiogQHJldHVybiBlbnVte2Nzc0NsYXNzZXN9ICovXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAvLyBDbGFzc2VzIGV4dGVuZGluZyBNRENGb3VuZGF0aW9uIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QgdG8gcmV0dXJuIGFuIG9iamVjdCB3aGljaCBleHBvcnRzIGV2ZXJ5XG4gICAgICAvLyBDU1MgY2xhc3MgdGhlIGZvdW5kYXRpb24gY2xhc3MgbmVlZHMgYXMgYSBwcm9wZXJ0eS4gZS5nLiB7QUNUSVZFOiAnbWRjLWNvbXBvbmVudC0tYWN0aXZlJ31cbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKiogQHJldHVybiBlbnVte3N0cmluZ3N9ICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzdHJpbmdzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAvLyBDbGFzc2VzIGV4dGVuZGluZyBNRENGb3VuZGF0aW9uIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QgdG8gcmV0dXJuIGFuIG9iamVjdCB3aGljaCBleHBvcnRzIGFsbFxuICAgICAgLy8gc2VtYW50aWMgc3RyaW5ncyBhcyBjb25zdGFudHMuIGUuZy4ge0FSSUFfUk9MRTogJ3RhYmxpc3QnfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIC8qKiBAcmV0dXJuIGVudW17bnVtYmVyc30gKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm51bWJlcnNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIC8vIENsYXNzZXMgZXh0ZW5kaW5nIE1EQ0ZvdW5kYXRpb24gc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZCB0byByZXR1cm4gYW4gb2JqZWN0IHdoaWNoIGV4cG9ydHMgYWxsXG4gICAgICAvLyBvZiBpdHMgc2VtYW50aWMgbnVtYmVycyBhcyBjb25zdGFudHMuIGUuZy4ge0FOSU1BVElPTl9ERUxBWV9NUzogMzUwfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIC8qKiBAcmV0dXJuIHshT2JqZWN0fSAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVmYXVsdEFkYXB0ZXJcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIC8vIENsYXNzZXMgZXh0ZW5kaW5nIE1EQ0ZvdW5kYXRpb24gbWF5IGNob29zZSB0byBpbXBsZW1lbnQgdGhpcyBnZXR0ZXIgaW4gb3JkZXIgdG8gcHJvdmlkZSBhIGNvbnZlbmllbnRcbiAgICAgIC8vIHdheSBvZiB2aWV3aW5nIHRoZSBuZWNlc3NhcnkgbWV0aG9kcyBvZiBhbiBhZGFwdGVyLiBJbiB0aGUgZnV0dXJlLCB0aGlzIGNvdWxkIGFsc28gYmUgdXNlZCBmb3IgYWRhcHRlclxuICAgICAgLy8gdmFsaWRhdGlvbi5cbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0E9fSBhZGFwdGVyXG4gICAgICovXG5cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIE1EQ0ZvdW5kYXRpb24oKSB7XG4gICAgdmFyIGFkYXB0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1EQ0ZvdW5kYXRpb24pO1xuXG4gICAgLyoqIEBwcm90ZWN0ZWQgeyFBfSAqL1xuICAgIHRoaXMuYWRhcHRlcl8gPSBhZGFwdGVyO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1EQ0ZvdW5kYXRpb24sIFt7XG4gICAga2V5OiBcImluaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgIC8vIFN1YmNsYXNzZXMgc2hvdWxkIG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIHBlcmZvcm0gaW5pdGlhbGl6YXRpb24gcm91dGluZXMgKHJlZ2lzdGVyaW5nIGV2ZW50cywgZXRjLilcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVzdHJveVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgLy8gU3ViY2xhc3NlcyBzaG91bGQgb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gcGVyZm9ybSBkZS1pbml0aWFsaXphdGlvbiByb3V0aW5lcyAoZGUtcmVnaXN0ZXJpbmcgZXZlbnRzLCBldGMuKVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNRENGb3VuZGF0aW9uO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKE1EQ0ZvdW5kYXRpb24pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19mb3VuZGF0aW9uX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cblxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBGXG4gKi9cblxudmFyIE1EQ0NvbXBvbmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgX2NyZWF0ZUNsYXNzKE1EQ0NvbXBvbmVudCwgbnVsbCwgW3tcbiAgICBrZXk6ICdhdHRhY2hUbycsXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFFbGVtZW50fSByb290XG4gICAgICogQHJldHVybiB7IU1EQ0NvbXBvbmVudH1cbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gYXR0YWNoVG8ocm9vdCkge1xuICAgICAgLy8gU3ViY2xhc3NlcyB3aGljaCBleHRlbmQgTURDQmFzZSBzaG91bGQgcHJvdmlkZSBhbiBhdHRhY2hUbygpIG1ldGhvZCB0aGF0IHRha2VzIGEgcm9vdCBlbGVtZW50IGFuZFxuICAgICAgLy8gcmV0dXJucyBhbiBpbnN0YW50aWF0ZWQgY29tcG9uZW50IHdpdGggaXRzIHJvb3Qgc2V0IHRvIHRoYXQgZWxlbWVudC4gQWxzbyBub3RlIHRoYXQgaW4gdGhlIGNhc2VzIG9mXG4gICAgICAvLyBzdWJjbGFzc2VzLCBhbiBleHBsaWNpdCBmb3VuZGF0aW9uIGNsYXNzIHdpbGwgbm90IGhhdmUgdG8gYmUgcGFzc2VkIGluOyBpdCB3aWxsIHNpbXBseSBiZSBpbml0aWFsaXplZFxuICAgICAgLy8gZnJvbSBnZXREZWZhdWx0Rm91bmRhdGlvbigpLlxuICAgICAgcmV0dXJuIG5ldyBNRENDb21wb25lbnQocm9vdCwgbmV3IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZm91bmRhdGlvbl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IUVsZW1lbnR9IHJvb3RcbiAgICAgKiBAcGFyYW0ge0Y9fSBmb3VuZGF0aW9uXG4gICAgICogQHBhcmFtIHsuLi4/fSBhcmdzXG4gICAgICovXG5cbiAgfV0pO1xuXG4gIGZ1bmN0aW9uIE1EQ0NvbXBvbmVudChyb290KSB7XG4gICAgdmFyIGZvdW5kYXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNRENDb21wb25lbnQpO1xuXG4gICAgLyoqIEBwcm90ZWN0ZWQgeyFFbGVtZW50fSAqL1xuICAgIHRoaXMucm9vdF8gPSByb290O1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksIF9rZXkgPSAyOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAyXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgLy8gTm90ZSB0aGF0IHdlIGluaXRpYWxpemUgZm91bmRhdGlvbiBoZXJlIGFuZCBub3Qgd2l0aGluIHRoZSBjb25zdHJ1Y3RvcidzIGRlZmF1bHQgcGFyYW0gc28gdGhhdFxuICAgIC8vIHRoaXMucm9vdF8gaXMgZGVmaW5lZCBhbmQgY2FuIGJlIHVzZWQgd2l0aGluIHRoZSBmb3VuZGF0aW9uIGNsYXNzLlxuICAgIC8qKiBAcHJvdGVjdGVkIHshRn0gKi9cbiAgICB0aGlzLmZvdW5kYXRpb25fID0gZm91bmRhdGlvbiA9PT0gdW5kZWZpbmVkID8gdGhpcy5nZXREZWZhdWx0Rm91bmRhdGlvbigpIDogZm91bmRhdGlvbjtcbiAgICB0aGlzLmZvdW5kYXRpb25fLmluaXQoKTtcbiAgICB0aGlzLmluaXRpYWxTeW5jV2l0aERPTSgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1EQ0NvbXBvbmVudCwgW3tcbiAgICBrZXk6ICdpbml0aWFsaXplJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIC8qIC4uLmFyZ3MgKi97fVxuICAgIC8vIFN1YmNsYXNzZXMgY2FuIG92ZXJyaWRlIHRoaXMgdG8gZG8gYW55IGFkZGl0aW9uYWwgc2V0dXAgd29yayB0aGF0IHdvdWxkIGJlIGNvbnNpZGVyZWQgcGFydCBvZiBhXG4gICAgLy8gXCJjb25zdHJ1Y3RvclwiLiBFc3NlbnRpYWxseSwgaXQgaXMgYSBob29rIGludG8gdGhlIHBhcmVudCBjb25zdHJ1Y3RvciBiZWZvcmUgdGhlIGZvdW5kYXRpb24gaXNcbiAgICAvLyBpbml0aWFsaXplZC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGJlc2lkZXMgcm9vdCBhbmQgZm91bmRhdGlvbiB3aWxsIGJlIHBhc3NlZCBpbiBoZXJlLlxuXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHshRn0gZm91bmRhdGlvblxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXREZWZhdWx0Rm91bmRhdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERlZmF1bHRGb3VuZGF0aW9uKCkge1xuICAgICAgLy8gU3ViY2xhc3NlcyBtdXN0IG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIHJldHVybiBhIHByb3Blcmx5IGNvbmZpZ3VyZWQgZm91bmRhdGlvbiBjbGFzcyBmb3IgdGhlXG4gICAgICAvLyBjb21wb25lbnQuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1YmNsYXNzZXMgbXVzdCBvdmVycmlkZSBnZXREZWZhdWx0Rm91bmRhdGlvbiB0byByZXR1cm4gYSBwcm9wZXJseSBjb25maWd1cmVkICcgKyAnZm91bmRhdGlvbiBjbGFzcycpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2luaXRpYWxTeW5jV2l0aERPTScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxTeW5jV2l0aERPTSgpIHtcbiAgICAgIC8vIFN1YmNsYXNzZXMgc2hvdWxkIG92ZXJyaWRlIHRoaXMgbWV0aG9kIGlmIHRoZXkgbmVlZCB0byBwZXJmb3JtIHdvcmsgdG8gc3luY2hyb25pemUgd2l0aCBhIGhvc3QgRE9NXG4gICAgICAvLyBvYmplY3QuIEFuIGV4YW1wbGUgb2YgdGhpcyB3b3VsZCBiZSBhIGZvcm0gY29udHJvbCB3cmFwcGVyIHRoYXQgbmVlZHMgdG8gc3luY2hyb25pemUgaXRzIGludGVybmFsIHN0YXRlXG4gICAgICAvLyB0byBzb21lIHByb3BlcnR5IG9yIGF0dHJpYnV0ZSBvZiB0aGUgaG9zdCBET00uIFBsZWFzZSBub3RlOiB0aGlzIGlzICpub3QqIHRoZSBwbGFjZSB0byBwZXJmb3JtIERPTVxuICAgICAgLy8gcmVhZHMvd3JpdGVzIHRoYXQgd291bGQgY2F1c2UgbGF5b3V0IC8gcGFpbnQsIGFzIHRoaXMgaXMgY2FsbGVkIHN5bmNocm9ub3VzbHkgZnJvbSB3aXRoaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgLy8gU3ViY2xhc3NlcyBtYXkgaW1wbGVtZW50IHRoaXMgbWV0aG9kIHRvIHJlbGVhc2UgYW55IHJlc291cmNlcyAvIGRlcmVnaXN0ZXIgYW55IGxpc3RlbmVycyB0aGV5IGhhdmVcbiAgICAgIC8vIGF0dGFjaGVkLiBBbiBleGFtcGxlIG9mIHRoaXMgbWlnaHQgYmUgZGVyZWdpc3RlcmluZyBhIHJlc2l6ZSBldmVudCBmcm9tIHRoZSB3aW5kb3cgb2JqZWN0LlxuICAgICAgdGhpcy5mb3VuZGF0aW9uXy5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JhcHBlciBtZXRob2QgdG8gYWRkIGFuIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBjb21wb25lbnQncyByb290IGVsZW1lbnQuIFRoaXMgaXMgbW9zdCB1c2VmdWwgd2hlblxuICAgICAqIGxpc3RlbmluZyBmb3IgY3VzdG9tIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZ0VHlwZVxuICAgICAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBoYW5kbGVyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2xpc3RlbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxpc3RlbihldnRUeXBlLCBoYW5kbGVyKSB7XG4gICAgICB0aGlzLnJvb3RfLmFkZEV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgaGFuZGxlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JhcHBlciBtZXRob2QgdG8gcmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBjb21wb25lbnQncyByb290IGVsZW1lbnQuIFRoaXMgaXMgbW9zdCB1c2VmdWwgd2hlblxuICAgICAqIHVubGlzdGVuaW5nIGZvciBjdXN0b20gZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldnRUeXBlXG4gICAgICogQHBhcmFtIHshRnVuY3Rpb259IGhhbmRsZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndW5saXN0ZW4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1bmxpc3RlbihldnRUeXBlLCBoYW5kbGVyKSB7XG4gICAgICB0aGlzLnJvb3RfLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgaGFuZGxlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlyZXMgYSBjcm9zcy1icm93c2VyLWNvbXBhdGlibGUgY3VzdG9tIGV2ZW50IGZyb20gdGhlIGNvbXBvbmVudCByb290IG9mIHRoZSBnaXZlbiB0eXBlLFxuICAgICAqIHdpdGggdGhlIGdpdmVuIGRhdGEuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2dFR5cGVcbiAgICAgKiBAcGFyYW0geyFPYmplY3R9IGV2dERhdGFcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBzaG91bGRCdWJibGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZW1pdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVtaXQoZXZ0VHlwZSwgZXZ0RGF0YSkge1xuICAgICAgdmFyIHNob3VsZEJ1YmJsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG5cbiAgICAgIHZhciBldnQgPSB2b2lkIDA7XG4gICAgICBpZiAodHlwZW9mIEN1c3RvbUV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGV2dCA9IG5ldyBDdXN0b21FdmVudChldnRUeXBlLCB7XG4gICAgICAgICAgZGV0YWlsOiBldnREYXRhLFxuICAgICAgICAgIGJ1YmJsZXM6IHNob3VsZEJ1YmJsZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuICAgICAgICBldnQuaW5pdEN1c3RvbUV2ZW50KGV2dFR5cGUsIHNob3VsZEJ1YmJsZSwgZmFsc2UsIGV2dERhdGEpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJvb3RfLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTURDQ29tcG9uZW50O1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKE1EQ0NvbXBvbmVudCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyAxMDA6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fbWF0ZXJpYWxfYmFzZV9pbmRleF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2NvbnN0YW50c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDEpO1xudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vKipcbiAqIENvcHlyaWdodCAyMDE2IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5cblxuXG52YXIgTURDU25hY2tiYXJGb3VuZGF0aW9uID0gZnVuY3Rpb24gKF9NRENGb3VuZGF0aW9uKSB7XG4gIF9pbmhlcml0cyhNRENTbmFja2JhckZvdW5kYXRpb24sIF9NRENGb3VuZGF0aW9uKTtcblxuICBfY3JlYXRlQ2xhc3MoTURDU25hY2tiYXJGb3VuZGF0aW9uLCBbe1xuICAgIGtleTogJ2FjdGl2ZScsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5hY3RpdmVfO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiAnY3NzQ2xhc3NlcycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19jb25zdGFudHNfX1tcImFcIiAvKiBjc3NDbGFzc2VzICovXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzdHJpbmdzJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2NvbnN0YW50c19fW1wiY1wiIC8qIHN0cmluZ3MgKi9dO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RlZmF1bHRBZGFwdGVyJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFkZENsYXNzOiBmdW5jdGlvbiBhZGRDbGFzcygpIC8qIGNsYXNzTmFtZTogc3RyaW5nICove30sXG4gICAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiByZW1vdmVDbGFzcygpIC8qIGNsYXNzTmFtZTogc3RyaW5nICove30sXG4gICAgICAgIHNldEFyaWFIaWRkZW46IGZ1bmN0aW9uIHNldEFyaWFIaWRkZW4oKSB7fSxcbiAgICAgICAgdW5zZXRBcmlhSGlkZGVuOiBmdW5jdGlvbiB1bnNldEFyaWFIaWRkZW4oKSB7fSxcbiAgICAgICAgc2V0QWN0aW9uQXJpYUhpZGRlbjogZnVuY3Rpb24gc2V0QWN0aW9uQXJpYUhpZGRlbigpIHt9LFxuICAgICAgICB1bnNldEFjdGlvbkFyaWFIaWRkZW46IGZ1bmN0aW9uIHVuc2V0QWN0aW9uQXJpYUhpZGRlbigpIHt9LFxuICAgICAgICBzZXRBY3Rpb25UZXh0OiBmdW5jdGlvbiBzZXRBY3Rpb25UZXh0KCkgLyogYWN0aW9uVGV4dDogc3RyaW5nICove30sXG4gICAgICAgIHNldE1lc3NhZ2VUZXh0OiBmdW5jdGlvbiBzZXRNZXNzYWdlVGV4dCgpIC8qIG1lc3NhZ2U6IHN0cmluZyAqL3t9LFxuICAgICAgICBzZXRGb2N1czogZnVuY3Rpb24gc2V0Rm9jdXMoKSB7fSxcbiAgICAgICAgdmlzaWJpbGl0eUlzSGlkZGVuOiBmdW5jdGlvbiB2aXNpYmlsaXR5SXNIaWRkZW4oKSB7XG4gICAgICAgICAgcmV0dXJuICgvKiBib29sZWFuICovZmFsc2VcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICByZWdpc3RlckNhcHR1cmVkQmx1ckhhbmRsZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyQ2FwdHVyZWRCbHVySGFuZGxlcigpIC8qIGhhbmRsZXI6IEV2ZW50TGlzdGVuZXIgKi97fSxcbiAgICAgICAgZGVyZWdpc3RlckNhcHR1cmVkQmx1ckhhbmRsZXI6IGZ1bmN0aW9uIGRlcmVnaXN0ZXJDYXB0dXJlZEJsdXJIYW5kbGVyKCkgLyogaGFuZGxlcjogRXZlbnRMaXN0ZW5lciAqL3t9LFxuICAgICAgICByZWdpc3RlclZpc2liaWxpdHlDaGFuZ2VIYW5kbGVyOiBmdW5jdGlvbiByZWdpc3RlclZpc2liaWxpdHlDaGFuZ2VIYW5kbGVyKCkgLyogaGFuZGxlcjogRXZlbnRMaXN0ZW5lciAqL3t9LFxuICAgICAgICBkZXJlZ2lzdGVyVmlzaWJpbGl0eUNoYW5nZUhhbmRsZXI6IGZ1bmN0aW9uIGRlcmVnaXN0ZXJWaXNpYmlsaXR5Q2hhbmdlSGFuZGxlcigpIC8qIGhhbmRsZXI6IEV2ZW50TGlzdGVuZXIgKi97fSxcbiAgICAgICAgcmVnaXN0ZXJDYXB0dXJlZEludGVyYWN0aW9uSGFuZGxlcjogZnVuY3Rpb24gcmVnaXN0ZXJDYXB0dXJlZEludGVyYWN0aW9uSGFuZGxlcigpIC8qIGV2dFR5cGU6IHN0cmluZywgaGFuZGxlcjogRXZlbnRMaXN0ZW5lciAqL3t9LFxuICAgICAgICBkZXJlZ2lzdGVyQ2FwdHVyZWRJbnRlcmFjdGlvbkhhbmRsZXI6IGZ1bmN0aW9uIGRlcmVnaXN0ZXJDYXB0dXJlZEludGVyYWN0aW9uSGFuZGxlcigpIC8qIGV2dFR5cGU6IHN0cmluZywgaGFuZGxlcjogRXZlbnRMaXN0ZW5lciAqL3t9LFxuICAgICAgICByZWdpc3RlckFjdGlvbkNsaWNrSGFuZGxlcjogZnVuY3Rpb24gcmVnaXN0ZXJBY3Rpb25DbGlja0hhbmRsZXIoKSAvKiBoYW5kbGVyOiBFdmVudExpc3RlbmVyICove30sXG4gICAgICAgIGRlcmVnaXN0ZXJBY3Rpb25DbGlja0hhbmRsZXI6IGZ1bmN0aW9uIGRlcmVnaXN0ZXJBY3Rpb25DbGlja0hhbmRsZXIoKSAvKiBoYW5kbGVyOiBFdmVudExpc3RlbmVyICove30sXG4gICAgICAgIHJlZ2lzdGVyVHJhbnNpdGlvbkVuZEhhbmRsZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyVHJhbnNpdGlvbkVuZEhhbmRsZXIoKSAvKiBoYW5kbGVyOiBFdmVudExpc3RlbmVyICove30sXG4gICAgICAgIGRlcmVnaXN0ZXJUcmFuc2l0aW9uRW5kSGFuZGxlcjogZnVuY3Rpb24gZGVyZWdpc3RlclRyYW5zaXRpb25FbmRIYW5kbGVyKCkgLyogaGFuZGxlcjogRXZlbnRMaXN0ZW5lciAqL3t9LFxuICAgICAgICBub3RpZnlTaG93OiBmdW5jdGlvbiBub3RpZnlTaG93KCkge30sXG4gICAgICAgIG5vdGlmeUhpZGU6IGZ1bmN0aW9uIG5vdGlmeUhpZGUoKSB7fVxuICAgICAgfTtcbiAgICB9XG4gIH1dKTtcblxuICBmdW5jdGlvbiBNRENTbmFja2JhckZvdW5kYXRpb24oYWRhcHRlcikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNRENTbmFja2JhckZvdW5kYXRpb24pO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE1EQ1NuYWNrYmFyRm91bmRhdGlvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE1EQ1NuYWNrYmFyRm91bmRhdGlvbikpLmNhbGwodGhpcywgX2V4dGVuZHMoTURDU25hY2tiYXJGb3VuZGF0aW9uLmRlZmF1bHRBZGFwdGVyLCBhZGFwdGVyKSkpO1xuXG4gICAgX3RoaXMuYWN0aXZlXyA9IGZhbHNlO1xuICAgIF90aGlzLmFjdGlvbldhc0NsaWNrZWRfID0gZmFsc2U7XG4gICAgX3RoaXMuZGlzbWlzc09uQWN0aW9uXyA9IHRydWU7XG4gICAgX3RoaXMuZmlyc3RGb2N1c18gPSB0cnVlO1xuICAgIF90aGlzLnBvaW50ZXJEb3duUmVjb2duaXplZF8gPSBmYWxzZTtcbiAgICBfdGhpcy5zbmFja2Jhckhhc0ZvY3VzXyA9IGZhbHNlO1xuICAgIF90aGlzLnNuYWNrYmFyRGF0YV8gPSBudWxsO1xuICAgIF90aGlzLnF1ZXVlXyA9IFtdO1xuICAgIF90aGlzLmFjdGlvbkNsaWNrSGFuZGxlcl8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5hY3Rpb25XYXNDbGlja2VkXyA9IHRydWU7XG4gICAgICBfdGhpcy5pbnZva2VBY3Rpb25fKCk7XG4gICAgfTtcbiAgICBfdGhpcy52aXNpYmlsaXR5Y2hhbmdlSGFuZGxlcl8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMudGltZW91dElkXyk7XG4gICAgICBfdGhpcy5zbmFja2Jhckhhc0ZvY3VzXyA9IHRydWU7XG5cbiAgICAgIGlmICghX3RoaXMuYWRhcHRlcl8udmlzaWJpbGl0eUlzSGlkZGVuKCkpIHtcbiAgICAgICAgc2V0VGltZW91dChfdGhpcy5jbGVhbnVwXy5iaW5kKF90aGlzKSwgX3RoaXMuc25hY2tiYXJEYXRhXy50aW1lb3V0IHx8IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fY29uc3RhbnRzX19bXCJiXCIgLyogbnVtYmVycyAqL10uTUVTU0FHRV9USU1FT1VUKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIF90aGlzLmludGVyYWN0aW9uSGFuZGxlcl8gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICBpZiAoZXZ0LnR5cGUgPT0gJ3RvdWNoc3RhcnQnIHx8IGV2dC50eXBlID09ICdtb3VzZWRvd24nKSB7XG4gICAgICAgIF90aGlzLnBvaW50ZXJEb3duUmVjb2duaXplZF8gPSB0cnVlO1xuICAgICAgfVxuICAgICAgX3RoaXMuaGFuZGxlUG9zc2libGVUYWJLZXlib2FyZEZvY3VzXyhldnQpO1xuXG4gICAgICBpZiAoZXZ0LnR5cGUgPT0gJ2ZvY3VzJykge1xuICAgICAgICBfdGhpcy5wb2ludGVyRG93blJlY29nbml6ZWRfID0gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcbiAgICBfdGhpcy5ibHVySGFuZGxlcl8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjbGVhclRpbWVvdXQoX3RoaXMudGltZW91dElkXyk7XG4gICAgICBfdGhpcy5zbmFja2Jhckhhc0ZvY3VzXyA9IGZhbHNlO1xuICAgICAgX3RoaXMudGltZW91dElkXyA9IHNldFRpbWVvdXQoX3RoaXMuY2xlYW51cF8uYmluZChfdGhpcyksIF90aGlzLnNuYWNrYmFyRGF0YV8udGltZW91dCB8fCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2NvbnN0YW50c19fW1wiYlwiIC8qIG51bWJlcnMgKi9dLk1FU1NBR0VfVElNRU9VVCk7XG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTURDU25hY2tiYXJGb3VuZGF0aW9uLCBbe1xuICAgIGtleTogJ2luaXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgdGhpcy5hZGFwdGVyXy5yZWdpc3RlckFjdGlvbkNsaWNrSGFuZGxlcih0aGlzLmFjdGlvbkNsaWNrSGFuZGxlcl8pO1xuICAgICAgdGhpcy5hZGFwdGVyXy5zZXRBcmlhSGlkZGVuKCk7XG4gICAgICB0aGlzLmFkYXB0ZXJfLnNldEFjdGlvbkFyaWFIaWRkZW4oKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXN0cm95JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB0aGlzLmFkYXB0ZXJfLmRlcmVnaXN0ZXJBY3Rpb25DbGlja0hhbmRsZXIodGhpcy5hY3Rpb25DbGlja0hhbmRsZXJfKTtcbiAgICAgIHRoaXMuYWRhcHRlcl8uZGVyZWdpc3RlckNhcHR1cmVkQmx1ckhhbmRsZXIodGhpcy5ibHVySGFuZGxlcl8pO1xuICAgICAgdGhpcy5hZGFwdGVyXy5kZXJlZ2lzdGVyVmlzaWJpbGl0eUNoYW5nZUhhbmRsZXIodGhpcy52aXNpYmlsaXR5Y2hhbmdlSGFuZGxlcl8pO1xuICAgICAgWyd0b3VjaHN0YXJ0JywgJ21vdXNlZG93bicsICdmb2N1cyddLmZvckVhY2goZnVuY3Rpb24gKGV2dFR5cGUpIHtcbiAgICAgICAgX3RoaXMyLmFkYXB0ZXJfLmRlcmVnaXN0ZXJDYXB0dXJlZEludGVyYWN0aW9uSGFuZGxlcihldnRUeXBlLCBfdGhpczIuaW50ZXJhY3Rpb25IYW5kbGVyXyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkaXNtaXNzZXNPbkFjdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc21pc3Nlc09uQWN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGlzbWlzc09uQWN0aW9uXztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXREaXNtaXNzT25BY3Rpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREaXNtaXNzT25BY3Rpb24oZGlzbWlzc09uQWN0aW9uKSB7XG4gICAgICB0aGlzLmRpc21pc3NPbkFjdGlvbl8gPSAhIWRpc21pc3NPbkFjdGlvbjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzaG93JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdyhkYXRhKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHByb3ZpZGUgYSBkYXRhIG9iamVjdCB3aXRoIGF0IGxlYXN0IGEgbWVzc2FnZSB0byBkaXNwbGF5LicpO1xuICAgICAgfVxuICAgICAgaWYgKCFkYXRhLm1lc3NhZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgcHJvdmlkZSBhIG1lc3NhZ2UgdG8gYmUgZGlzcGxheWVkLicpO1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEuYWN0aW9uSGFuZGxlciAmJiAhZGF0YS5hY3Rpb25UZXh0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIHByb3ZpZGUgYWN0aW9uIHRleHQgd2l0aCB0aGUgaGFuZGxlci4nKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgICB0aGlzLnF1ZXVlXy5wdXNoKGRhdGEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWRfKTtcbiAgICAgIHRoaXMuc25hY2tiYXJEYXRhXyA9IGRhdGE7XG4gICAgICB0aGlzLmZpcnN0Rm9jdXNfID0gdHJ1ZTtcbiAgICAgIHRoaXMuYWRhcHRlcl8ucmVnaXN0ZXJWaXNpYmlsaXR5Q2hhbmdlSGFuZGxlcih0aGlzLnZpc2liaWxpdHljaGFuZ2VIYW5kbGVyXyk7XG4gICAgICB0aGlzLmFkYXB0ZXJfLnJlZ2lzdGVyQ2FwdHVyZWRCbHVySGFuZGxlcih0aGlzLmJsdXJIYW5kbGVyXyk7XG4gICAgICBbJ3RvdWNoc3RhcnQnLCAnbW91c2Vkb3duJywgJ2ZvY3VzJ10uZm9yRWFjaChmdW5jdGlvbiAoZXZ0VHlwZSkge1xuICAgICAgICBfdGhpczMuYWRhcHRlcl8ucmVnaXN0ZXJDYXB0dXJlZEludGVyYWN0aW9uSGFuZGxlcihldnRUeXBlLCBfdGhpczMuaW50ZXJhY3Rpb25IYW5kbGVyXyk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIEFDVElWRSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fY29uc3RhbnRzX19bXCJhXCIgLyogY3NzQ2xhc3NlcyAqL10uQUNUSVZFLFxuICAgICAgICAgIE1VTFRJTElORSA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fY29uc3RhbnRzX19bXCJhXCIgLyogY3NzQ2xhc3NlcyAqL10uTVVMVElMSU5FLFxuICAgICAgICAgIEFDVElPTl9PTl9CT1RUT00gPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2NvbnN0YW50c19fW1wiYVwiIC8qIGNzc0NsYXNzZXMgKi9dLkFDVElPTl9PTl9CT1RUT007XG5cblxuICAgICAgdGhpcy5hZGFwdGVyXy5zZXRNZXNzYWdlVGV4dCh0aGlzLnNuYWNrYmFyRGF0YV8ubWVzc2FnZSk7XG5cbiAgICAgIGlmICh0aGlzLnNuYWNrYmFyRGF0YV8ubXVsdGlsaW5lKSB7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uYWRkQ2xhc3MoTVVMVElMSU5FKTtcbiAgICAgICAgaWYgKHRoaXMuc25hY2tiYXJEYXRhXy5hY3Rpb25PbkJvdHRvbSkge1xuICAgICAgICAgIHRoaXMuYWRhcHRlcl8uYWRkQ2xhc3MoQUNUSU9OX09OX0JPVFRPTSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc25hY2tiYXJEYXRhXy5hY3Rpb25IYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uc2V0QWN0aW9uVGV4dCh0aGlzLnNuYWNrYmFyRGF0YV8uYWN0aW9uVGV4dCk7XG4gICAgICAgIHRoaXMuYWN0aW9uSGFuZGxlcl8gPSB0aGlzLnNuYWNrYmFyRGF0YV8uYWN0aW9uSGFuZGxlcjtcbiAgICAgICAgdGhpcy5zZXRBY3Rpb25IaWRkZW5fKGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0QWN0aW9uSGlkZGVuXyh0cnVlKTtcbiAgICAgICAgdGhpcy5hY3Rpb25IYW5kbGVyXyA9IG51bGw7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8uc2V0QWN0aW9uVGV4dChudWxsKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hY3RpdmVfID0gdHJ1ZTtcbiAgICAgIHRoaXMuYWRhcHRlcl8uYWRkQ2xhc3MoQUNUSVZFKTtcbiAgICAgIHRoaXMuYWRhcHRlcl8udW5zZXRBcmlhSGlkZGVuKCk7XG4gICAgICB0aGlzLmFkYXB0ZXJfLm5vdGlmeVNob3coKTtcblxuICAgICAgdGhpcy50aW1lb3V0SWRfID0gc2V0VGltZW91dCh0aGlzLmNsZWFudXBfLmJpbmQodGhpcyksIHRoaXMuc25hY2tiYXJEYXRhXy50aW1lb3V0IHx8IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fY29uc3RhbnRzX19bXCJiXCIgLyogbnVtYmVycyAqL10uTUVTU0FHRV9USU1FT1VUKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYW5kbGVQb3NzaWJsZVRhYktleWJvYXJkRm9jdXNfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUG9zc2libGVUYWJLZXlib2FyZEZvY3VzXygpIHtcbiAgICAgIHZhciBoaWphY2tGb2N1cyA9IHRoaXMuZmlyc3RGb2N1c18gJiYgIXRoaXMucG9pbnRlckRvd25SZWNvZ25pemVkXztcblxuICAgICAgaWYgKGhpamFja0ZvY3VzKSB7XG4gICAgICAgIHRoaXMuc2V0Rm9jdXNPbkFjdGlvbl8oKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5maXJzdEZvY3VzXyA9IGZhbHNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldEZvY3VzT25BY3Rpb25fJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Rm9jdXNPbkFjdGlvbl8oKSB7XG4gICAgICB0aGlzLmFkYXB0ZXJfLnNldEZvY3VzKCk7XG4gICAgICB0aGlzLnNuYWNrYmFySGFzRm9jdXNfID0gdHJ1ZTtcbiAgICAgIHRoaXMuZmlyc3RGb2N1c18gPSBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpbnZva2VBY3Rpb25fJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW52b2tlQWN0aW9uXygpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghdGhpcy5hY3Rpb25IYW5kbGVyXykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWN0aW9uSGFuZGxlcl8oKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmICh0aGlzLmRpc21pc3NPbkFjdGlvbl8pIHtcbiAgICAgICAgICB0aGlzLmNsZWFudXBfKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjbGVhbnVwXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFudXBfKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHZhciBhbGxvd0Rpc21pc3NhbCA9ICF0aGlzLnNuYWNrYmFySGFzRm9jdXNfIHx8IHRoaXMuYWN0aW9uV2FzQ2xpY2tlZF87XG5cbiAgICAgIGlmIChhbGxvd0Rpc21pc3NhbCkge1xuICAgICAgICB2YXIgQUNUSVZFID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19jb25zdGFudHNfX1tcImFcIiAvKiBjc3NDbGFzc2VzICovXS5BQ1RJVkUsXG4gICAgICAgICAgICBNVUxUSUxJTkUgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2NvbnN0YW50c19fW1wiYVwiIC8qIGNzc0NsYXNzZXMgKi9dLk1VTFRJTElORSxcbiAgICAgICAgICAgIEFDVElPTl9PTl9CT1RUT00gPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2NvbnN0YW50c19fW1wiYVwiIC8qIGNzc0NsYXNzZXMgKi9dLkFDVElPTl9PTl9CT1RUT007XG5cblxuICAgICAgICB0aGlzLmFkYXB0ZXJfLnJlbW92ZUNsYXNzKEFDVElWRSk7XG5cbiAgICAgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpczQudGltZW91dElkXyk7XG4gICAgICAgICAgX3RoaXM0LmFkYXB0ZXJfLmRlcmVnaXN0ZXJUcmFuc2l0aW9uRW5kSGFuZGxlcihoYW5kbGVyKTtcbiAgICAgICAgICBfdGhpczQuYWRhcHRlcl8ucmVtb3ZlQ2xhc3MoTVVMVElMSU5FKTtcbiAgICAgICAgICBfdGhpczQuYWRhcHRlcl8ucmVtb3ZlQ2xhc3MoQUNUSU9OX09OX0JPVFRPTSk7XG4gICAgICAgICAgX3RoaXM0LnNldEFjdGlvbkhpZGRlbl8odHJ1ZSk7XG4gICAgICAgICAgX3RoaXM0LmFkYXB0ZXJfLnNldEFyaWFIaWRkZW4oKTtcbiAgICAgICAgICBfdGhpczQuYWN0aXZlXyA9IGZhbHNlO1xuICAgICAgICAgIF90aGlzNC5zbmFja2Jhckhhc0ZvY3VzXyA9IGZhbHNlO1xuICAgICAgICAgIF90aGlzNC5hZGFwdGVyXy5ub3RpZnlIaWRlKCk7XG4gICAgICAgICAgX3RoaXM0LnNob3dOZXh0XygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuYWRhcHRlcl8ucmVnaXN0ZXJUcmFuc2l0aW9uRW5kSGFuZGxlcihoYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzaG93TmV4dF8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93TmV4dF8oKSB7XG4gICAgICBpZiAoIXRoaXMucXVldWVfLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnNob3codGhpcy5xdWV1ZV8uc2hpZnQoKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0QWN0aW9uSGlkZGVuXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEFjdGlvbkhpZGRlbl8oaXNIaWRkZW4pIHtcbiAgICAgIGlmIChpc0hpZGRlbikge1xuICAgICAgICB0aGlzLmFkYXB0ZXJfLnNldEFjdGlvbkFyaWFIaWRkZW4oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYWRhcHRlcl8udW5zZXRBY3Rpb25BcmlhSGlkZGVuKCk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1EQ1NuYWNrYmFyRm91bmRhdGlvbjtcbn0oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19tYXRlcmlhbF9iYXNlX2luZGV4X19bXCJNRENGb3VuZGF0aW9uXCJdKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChNRENTbmFja2JhckZvdW5kYXRpb24pO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gMTAxOlxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gY3NzQ2xhc3NlczsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiY1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIHN0cmluZ3M7IH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcImJcIiwgZnVuY3Rpb24oKSB7IHJldHVybiBudW1iZXJzOyB9KTtcbi8qKlxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgY3NzQ2xhc3NlcyA9IHtcbiAgUk9PVDogJ21kYy1zbmFja2JhcicsXG4gIFRFWFQ6ICdtZGMtc25hY2tiYXJfX3RleHQnLFxuICBBQ1RJT05fV1JBUFBFUjogJ21kYy1zbmFja2Jhcl9fYWN0aW9uLXdyYXBwZXInLFxuICBBQ1RJT05fQlVUVE9OOiAnbWRjLXNuYWNrYmFyX19hY3Rpb24tYnV0dG9uJyxcbiAgQUNUSVZFOiAnbWRjLXNuYWNrYmFyLS1hY3RpdmUnLFxuICBNVUxUSUxJTkU6ICdtZGMtc25hY2tiYXItLW11bHRpbGluZScsXG4gIEFDVElPTl9PTl9CT1RUT006ICdtZGMtc25hY2tiYXItLWFjdGlvbi1vbi1ib3R0b20nXG59O1xuXG52YXIgc3RyaW5ncyA9IHtcbiAgVEVYVF9TRUxFQ1RPUjogJy5tZGMtc25hY2tiYXJfX3RleHQnLFxuICBBQ1RJT05fV1JBUFBFUl9TRUxFQ1RPUjogJy5tZGMtc25hY2tiYXJfX2FjdGlvbi13cmFwcGVyJyxcbiAgQUNUSU9OX0JVVFRPTl9TRUxFQ1RPUjogJy5tZGMtc25hY2tiYXJfX2FjdGlvbi1idXR0b24nLFxuICBTSE9XX0VWRU5UOiAnTURDU25hY2tiYXI6c2hvdycsXG4gIEhJREVfRVZFTlQ6ICdNRENTbmFja2JhcjpoaWRlJ1xufTtcblxudmFyIG51bWJlcnMgPSB7XG4gIE1FU1NBR0VfVElNRU9VVDogMjc1MFxufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIDc6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZm91bmRhdGlvbl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2NvbXBvbmVudF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIk1EQ0ZvdW5kYXRpb25cIiwgZnVuY3Rpb24oKSB7IHJldHVybiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2ZvdW5kYXRpb25fX1tcImFcIl07IH0pO1xuLyogaGFybW9ueSByZWV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiTURDQ29tcG9uZW50XCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19jb21wb25lbnRfX1tcImFcIl07IH0pO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cblxuXG5cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gODpcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwidHJhbnNmb3JtU3R5bGVQcm9wZXJ0aWVzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJhbnNmb3JtU3R5bGVQcm9wZXJ0aWVzOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJnZXRDb3JyZWN0RXZlbnROYW1lXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZ2V0Q29ycmVjdEV2ZW50TmFtZTsgfSk7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiZ2V0Q29ycmVjdFByb3BlcnR5TmFtZVwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGdldENvcnJlY3RQcm9wZXJ0eU5hbWU7IH0pO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqICAgbm9QcmVmaXg6IHN0cmluZyxcbiAqICAgd2Via2l0UHJlZml4OiBzdHJpbmcsXG4gKiAgIHN0eWxlUHJvcGVydHk6IHN0cmluZ1xuICogfX1cbiAqL1xudmFyIFZlbmRvclByb3BlcnR5TWFwVHlwZSA9IHZvaWQgMDtcblxuLyoqIEBjb25zdCB7T2JqZWN0PHN0cmluZywgIVZlbmRvclByb3BlcnR5TWFwVHlwZT59ICovXG52YXIgZXZlbnRUeXBlTWFwID0ge1xuICAnYW5pbWF0aW9uc3RhcnQnOiB7XG4gICAgbm9QcmVmaXg6ICdhbmltYXRpb25zdGFydCcsXG4gICAgd2Via2l0UHJlZml4OiAnd2Via2l0QW5pbWF0aW9uU3RhcnQnLFxuICAgIHN0eWxlUHJvcGVydHk6ICdhbmltYXRpb24nXG4gIH0sXG4gICdhbmltYXRpb25lbmQnOiB7XG4gICAgbm9QcmVmaXg6ICdhbmltYXRpb25lbmQnLFxuICAgIHdlYmtpdFByZWZpeDogJ3dlYmtpdEFuaW1hdGlvbkVuZCcsXG4gICAgc3R5bGVQcm9wZXJ0eTogJ2FuaW1hdGlvbidcbiAgfSxcbiAgJ2FuaW1hdGlvbml0ZXJhdGlvbic6IHtcbiAgICBub1ByZWZpeDogJ2FuaW1hdGlvbml0ZXJhdGlvbicsXG4gICAgd2Via2l0UHJlZml4OiAnd2Via2l0QW5pbWF0aW9uSXRlcmF0aW9uJyxcbiAgICBzdHlsZVByb3BlcnR5OiAnYW5pbWF0aW9uJ1xuICB9LFxuICAndHJhbnNpdGlvbmVuZCc6IHtcbiAgICBub1ByZWZpeDogJ3RyYW5zaXRpb25lbmQnLFxuICAgIHdlYmtpdFByZWZpeDogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgIHN0eWxlUHJvcGVydHk6ICd0cmFuc2l0aW9uJ1xuICB9XG59O1xuXG4vKiogQGNvbnN0IHtPYmplY3Q8c3RyaW5nLCAhVmVuZG9yUHJvcGVydHlNYXBUeXBlPn0gKi9cbnZhciBjc3NQcm9wZXJ0eU1hcCA9IHtcbiAgJ2FuaW1hdGlvbic6IHtcbiAgICBub1ByZWZpeDogJ2FuaW1hdGlvbicsXG4gICAgd2Via2l0UHJlZml4OiAnLXdlYmtpdC1hbmltYXRpb24nXG4gIH0sXG4gICd0cmFuc2Zvcm0nOiB7XG4gICAgbm9QcmVmaXg6ICd0cmFuc2Zvcm0nLFxuICAgIHdlYmtpdFByZWZpeDogJy13ZWJraXQtdHJhbnNmb3JtJ1xuICB9LFxuICAndHJhbnNpdGlvbic6IHtcbiAgICBub1ByZWZpeDogJ3RyYW5zaXRpb24nLFxuICAgIHdlYmtpdFByZWZpeDogJy13ZWJraXQtdHJhbnNpdGlvbidcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0geyFPYmplY3R9IHdpbmRvd09ialxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaGFzUHJvcGVyU2hhcGUod2luZG93T2JqKSB7XG4gIHJldHVybiB3aW5kb3dPYmpbJ2RvY3VtZW50J10gIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygd2luZG93T2JqWydkb2N1bWVudCddWydjcmVhdGVFbGVtZW50J10gPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gZXZlbnRGb3VuZEluTWFwcyhldmVudFR5cGUpIHtcbiAgcmV0dXJuIGV2ZW50VHlwZSBpbiBldmVudFR5cGVNYXAgfHwgZXZlbnRUeXBlIGluIGNzc1Byb3BlcnR5TWFwO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGVcbiAqIEBwYXJhbSB7IU9iamVjdDxzdHJpbmcsICFWZW5kb3JQcm9wZXJ0eU1hcFR5cGU+fSBtYXBcbiAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldEphdmFTY3JpcHRFdmVudE5hbWUoZXZlbnRUeXBlLCBtYXAsIGVsKSB7XG4gIHJldHVybiBtYXBbZXZlbnRUeXBlXS5zdHlsZVByb3BlcnR5IGluIGVsLnN0eWxlID8gbWFwW2V2ZW50VHlwZV0ubm9QcmVmaXggOiBtYXBbZXZlbnRUeXBlXS53ZWJraXRQcmVmaXg7XG59XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGRldGVybWluZSBicm93c2VyIHByZWZpeCBmb3IgQ1NTMyBhbmltYXRpb24gZXZlbnRzXG4gKiBhbmQgcHJvcGVydHkgbmFtZXMuXG4gKiBAcGFyYW0geyFPYmplY3R9IHdpbmRvd09ialxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZVxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBnZXRBbmltYXRpb25OYW1lKHdpbmRvd09iaiwgZXZlbnRUeXBlKSB7XG4gIGlmICghaGFzUHJvcGVyU2hhcGUod2luZG93T2JqKSB8fCAhZXZlbnRGb3VuZEluTWFwcyhldmVudFR5cGUpKSB7XG4gICAgcmV0dXJuIGV2ZW50VHlwZTtcbiAgfVxuXG4gIHZhciBtYXAgPSAvKiogQHR5cGUgeyFPYmplY3Q8c3RyaW5nLCAhVmVuZG9yUHJvcGVydHlNYXBUeXBlPn0gKi9ldmVudFR5cGUgaW4gZXZlbnRUeXBlTWFwID8gZXZlbnRUeXBlTWFwIDogY3NzUHJvcGVydHlNYXA7XG4gIHZhciBlbCA9IHdpbmRvd09ialsnZG9jdW1lbnQnXVsnY3JlYXRlRWxlbWVudCddKCdkaXYnKTtcbiAgdmFyIGV2ZW50TmFtZSA9ICcnO1xuXG4gIGlmIChtYXAgPT09IGV2ZW50VHlwZU1hcCkge1xuICAgIGV2ZW50TmFtZSA9IGdldEphdmFTY3JpcHRFdmVudE5hbWUoZXZlbnRUeXBlLCBtYXAsIGVsKTtcbiAgfSBlbHNlIHtcbiAgICBldmVudE5hbWUgPSBtYXBbZXZlbnRUeXBlXS5ub1ByZWZpeCBpbiBlbC5zdHlsZSA/IG1hcFtldmVudFR5cGVdLm5vUHJlZml4IDogbWFwW2V2ZW50VHlwZV0ud2Via2l0UHJlZml4O1xuICB9XG5cbiAgcmV0dXJuIGV2ZW50TmFtZTtcbn1cblxuLy8gUHVibGljIGZ1bmN0aW9ucyB0byBhY2Nlc3MgZ2V0QW5pbWF0aW9uTmFtZSgpIGZvciBKYXZhU2NyaXB0IGV2ZW50cyBvciBDU1Ncbi8vIHByb3BlcnR5IG5hbWVzLlxuXG52YXIgdHJhbnNmb3JtU3R5bGVQcm9wZXJ0aWVzID0gWyd0cmFuc2Zvcm0nLCAnV2Via2l0VHJhbnNmb3JtJywgJ01velRyYW5zZm9ybScsICdPVHJhbnNmb3JtJywgJ01TVHJhbnNmb3JtJ107XG5cbi8qKlxuICogQHBhcmFtIHshT2JqZWN0fSB3aW5kb3dPYmpcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0Q29ycmVjdEV2ZW50TmFtZSh3aW5kb3dPYmosIGV2ZW50VHlwZSkge1xuICByZXR1cm4gZ2V0QW5pbWF0aW9uTmFtZSh3aW5kb3dPYmosIGV2ZW50VHlwZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHshT2JqZWN0fSB3aW5kb3dPYmpcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZ2V0Q29ycmVjdFByb3BlcnR5TmFtZSh3aW5kb3dPYmosIGV2ZW50VHlwZSkge1xuICByZXR1cm4gZ2V0QW5pbWF0aW9uTmFtZSh3aW5kb3dPYmosIGV2ZW50VHlwZSk7XG59XG5cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gOTk6XG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIk1EQ1NuYWNrYmFyXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gTURDU25hY2tiYXI7IH0pO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fbWF0ZXJpYWxfYmFzZV9pbmRleF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2ZvdW5kYXRpb25fXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTAwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX21hdGVyaWFsX2FuaW1hdGlvbl9pbmRleF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbi8qIGhhcm1vbnkgcmVleHBvcnQgKGJpbmRpbmcpICovIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCBcIk1EQ1NuYWNrYmFyRm91bmRhdGlvblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fZm91bmRhdGlvbl9fW1wiYVwiXTsgfSk7XG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8qKlxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cblxuXG5cblxuXG5cbnZhciBNRENTbmFja2JhciA9IGZ1bmN0aW9uIChfTURDQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhNRENTbmFja2JhciwgX01EQ0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTURDU25hY2tiYXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1EQ1NuYWNrYmFyKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTURDU25hY2tiYXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihNRENTbmFja2JhcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1EQ1NuYWNrYmFyLCBbe1xuICAgIGtleTogJ3Nob3cnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93KGRhdGEpIHtcbiAgICAgIHRoaXMuZm91bmRhdGlvbl8uc2hvdyhkYXRhKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXREZWZhdWx0Rm91bmRhdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERlZmF1bHRGb3VuZGF0aW9uKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBfTURDU25hY2tiYXJGb3VuZGF0aW8gPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2ZvdW5kYXRpb25fX1tcImFcIiAvKiBkZWZhdWx0ICovXS5zdHJpbmdzLFxuICAgICAgICAgIFRFWFRfU0VMRUNUT1IgPSBfTURDU25hY2tiYXJGb3VuZGF0aW8uVEVYVF9TRUxFQ1RPUixcbiAgICAgICAgICBBQ1RJT05fQlVUVE9OX1NFTEVDVE9SID0gX01EQ1NuYWNrYmFyRm91bmRhdGlvLkFDVElPTl9CVVRUT05fU0VMRUNUT1I7XG5cbiAgICAgIHZhciBnZXRUZXh0ID0gZnVuY3Rpb24gZ2V0VGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMi5yb290Xy5xdWVyeVNlbGVjdG9yKFRFWFRfU0VMRUNUT1IpO1xuICAgICAgfTtcbiAgICAgIHZhciBnZXRBY3Rpb25CdXR0b24gPSBmdW5jdGlvbiBnZXRBY3Rpb25CdXR0b24oKSB7XG4gICAgICAgIHJldHVybiBfdGhpczIucm9vdF8ucXVlcnlTZWxlY3RvcihBQ1RJT05fQlVUVE9OX1NFTEVDVE9SKTtcbiAgICAgIH07XG5cbiAgICAgIC8qIGVzbGludCBicmFjZS1zdHlsZTogXCJvZmZcIiAqL1xuICAgICAgcmV0dXJuIG5ldyBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2ZvdW5kYXRpb25fX1tcImFcIiAvKiBkZWZhdWx0ICovXSh7XG4gICAgICAgIGFkZENsYXNzOiBmdW5jdGlvbiBhZGRDbGFzcyhjbGFzc05hbWUpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLnJvb3RfLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGNsYXNzTmFtZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIucm9vdF8uY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRBcmlhSGlkZGVuOiBmdW5jdGlvbiBzZXRBcmlhSGlkZGVuKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIucm9vdF8uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHVuc2V0QXJpYUhpZGRlbjogZnVuY3Rpb24gdW5zZXRBcmlhSGlkZGVuKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIucm9vdF8ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRBY3Rpb25BcmlhSGlkZGVuOiBmdW5jdGlvbiBzZXRBY3Rpb25BcmlhSGlkZGVuKCkge1xuICAgICAgICAgIHJldHVybiBnZXRBY3Rpb25CdXR0b24oKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5zZXRBY3Rpb25BcmlhSGlkZGVuOiBmdW5jdGlvbiB1bnNldEFjdGlvbkFyaWFIaWRkZW4oKSB7XG4gICAgICAgICAgcmV0dXJuIGdldEFjdGlvbkJ1dHRvbigpLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0QWN0aW9uVGV4dDogZnVuY3Rpb24gc2V0QWN0aW9uVGV4dCh0ZXh0KSB7XG4gICAgICAgICAgZ2V0QWN0aW9uQnV0dG9uKCkudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgICB9LFxuICAgICAgICBzZXRNZXNzYWdlVGV4dDogZnVuY3Rpb24gc2V0TWVzc2FnZVRleHQodGV4dCkge1xuICAgICAgICAgIGdldFRleHQoKS50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEZvY3VzOiBmdW5jdGlvbiBzZXRGb2N1cygpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0QWN0aW9uQnV0dG9uKCkuZm9jdXMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJpbGl0eUlzSGlkZGVuOiBmdW5jdGlvbiB2aXNpYmlsaXR5SXNIaWRkZW4oKSB7XG4gICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmhpZGRlbjtcbiAgICAgICAgfSxcbiAgICAgICAgcmVnaXN0ZXJDYXB0dXJlZEJsdXJIYW5kbGVyOiBmdW5jdGlvbiByZWdpc3RlckNhcHR1cmVkQmx1ckhhbmRsZXIoaGFuZGxlcikge1xuICAgICAgICAgIHJldHVybiBnZXRBY3Rpb25CdXR0b24oKS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgaGFuZGxlciwgdHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlcmVnaXN0ZXJDYXB0dXJlZEJsdXJIYW5kbGVyOiBmdW5jdGlvbiBkZXJlZ2lzdGVyQ2FwdHVyZWRCbHVySGFuZGxlcihoYW5kbGVyKSB7XG4gICAgICAgICAgcmV0dXJuIGdldEFjdGlvbkJ1dHRvbigpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCBoYW5kbGVyLCB0cnVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVnaXN0ZXJWaXNpYmlsaXR5Q2hhbmdlSGFuZGxlcjogZnVuY3Rpb24gcmVnaXN0ZXJWaXNpYmlsaXR5Q2hhbmdlSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBoYW5kbGVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVyZWdpc3RlclZpc2liaWxpdHlDaGFuZ2VIYW5kbGVyOiBmdW5jdGlvbiBkZXJlZ2lzdGVyVmlzaWJpbGl0eUNoYW5nZUhhbmRsZXIoaGFuZGxlcikge1xuICAgICAgICAgIHJldHVybiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgaGFuZGxlcik7XG4gICAgICAgIH0sXG4gICAgICAgIHJlZ2lzdGVyQ2FwdHVyZWRJbnRlcmFjdGlvbkhhbmRsZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyQ2FwdHVyZWRJbnRlcmFjdGlvbkhhbmRsZXIoZXZ0LCBoYW5kbGVyKSB7XG4gICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihldnQsIGhhbmRsZXIsIHRydWUpO1xuICAgICAgICB9LFxuICAgICAgICBkZXJlZ2lzdGVyQ2FwdHVyZWRJbnRlcmFjdGlvbkhhbmRsZXI6IGZ1bmN0aW9uIGRlcmVnaXN0ZXJDYXB0dXJlZEludGVyYWN0aW9uSGFuZGxlcihldnQsIGhhbmRsZXIpIHtcbiAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKGV2dCwgaGFuZGxlciwgdHJ1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlZ2lzdGVyQWN0aW9uQ2xpY2tIYW5kbGVyOiBmdW5jdGlvbiByZWdpc3RlckFjdGlvbkNsaWNrSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgICAgICAgcmV0dXJuIGdldEFjdGlvbkJ1dHRvbigpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGRlcmVnaXN0ZXJBY3Rpb25DbGlja0hhbmRsZXI6IGZ1bmN0aW9uIGRlcmVnaXN0ZXJBY3Rpb25DbGlja0hhbmRsZXIoaGFuZGxlcikge1xuICAgICAgICAgIHJldHVybiBnZXRBY3Rpb25CdXR0b24oKS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZXIpO1xuICAgICAgICB9LFxuICAgICAgICByZWdpc3RlclRyYW5zaXRpb25FbmRIYW5kbGVyOiBmdW5jdGlvbiByZWdpc3RlclRyYW5zaXRpb25FbmRIYW5kbGVyKGhhbmRsZXIpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLnJvb3RfLmFkZEV2ZW50TGlzdGVuZXIoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fbWF0ZXJpYWxfYW5pbWF0aW9uX2luZGV4X19bXCJnZXRDb3JyZWN0RXZlbnROYW1lXCJdKSh3aW5kb3csICd0cmFuc2l0aW9uZW5kJyksIGhhbmRsZXIpO1xuICAgICAgICB9LFxuICAgICAgICBkZXJlZ2lzdGVyVHJhbnNpdGlvbkVuZEhhbmRsZXI6IGZ1bmN0aW9uIGRlcmVnaXN0ZXJUcmFuc2l0aW9uRW5kSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5yb290Xy5yZW1vdmVFdmVudExpc3RlbmVyKE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX21hdGVyaWFsX2FuaW1hdGlvbl9pbmRleF9fW1wiZ2V0Q29ycmVjdEV2ZW50TmFtZVwiXSkod2luZG93LCAndHJhbnNpdGlvbmVuZCcpLCBoYW5kbGVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgbm90aWZ5U2hvdzogZnVuY3Rpb24gbm90aWZ5U2hvdygpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLmVtaXQoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19mb3VuZGF0aW9uX19bXCJhXCIgLyogZGVmYXVsdCAqL10uc3RyaW5ncy5TSE9XX0VWRU5UKTtcbiAgICAgICAgfSxcbiAgICAgICAgbm90aWZ5SGlkZTogZnVuY3Rpb24gbm90aWZ5SGlkZSgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLmVtaXQoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19mb3VuZGF0aW9uX19bXCJhXCIgLyogZGVmYXVsdCAqL10uc3RyaW5ncy5ISURFX0VWRU5UKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGlzbWlzc2VzT25BY3Rpb24nLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuZm91bmRhdGlvbl8uZGlzbWlzc2VzT25BY3Rpb24oKTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KGRpc21pc3Nlc09uQWN0aW9uKSB7XG4gICAgICB0aGlzLmZvdW5kYXRpb25fLnNldERpc21pc3NPbkFjdGlvbihkaXNtaXNzZXNPbkFjdGlvbik7XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6ICdhdHRhY2hUbycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGF0dGFjaFRvKHJvb3QpIHtcbiAgICAgIHJldHVybiBuZXcgTURDU25hY2tiYXIocm9vdCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1EQ1NuYWNrYmFyO1xufShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX21hdGVyaWFsX2Jhc2VfaW5kZXhfX1tcIk1EQ0NvbXBvbmVudFwiXSk7XG5cbi8qKiovIH0pXG5cbi8qKioqKiovIH0pO1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZGMuc25hY2tiYXIuanMubWFwIiwiKGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHQvKipcclxuXHQgKiBTaG9ydGhhbmQgZnVuY3Rpb24gZm9yIHF1ZXJ5U2VsZWN0b3JcclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZWwgXHJcblx0ICogQHJldHVybnMge0hUTUxFbGVtZW50fSBcclxuXHQgKi9cclxuXHRjb25zdCBET00gPSBlbGVtID0+IGRvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvcihlbGVtKTtcclxuXHJcblx0dmFyIG1kYyA9IHJlcXVpcmUoXCJAbWF0ZXJpYWwvc25hY2tiYXIvZGlzdC9tZGMuc25hY2tiYXJcIik7XHJcblx0Y29uc3QgcG9wb3ZlckRCID0gcmVxdWlyZShcIi4uL3V0aWxzL1N0b3JhZ2VNYW5hZ2VyXCIpO1xyXG5cdGNvbnN0IE1EQ1NuYWNrYmFyID0gbWRjLk1EQ1NuYWNrYmFyO1xyXG5cdGNvbnN0IE1EQ1NuYWNrYmFyRm91bmRhdGlvbiA9IG1kYy5NRENTbmFja2JhckZvdW5kYXRpb247XHJcblx0bWRjLk1EQ1NuYWNrYmFyLmF0dGFjaFRvKERPTSgnLm1kYy1zbmFja2JhcicpKTtcclxuXHRjb25zdCBzbmFja2JhciA9IG5ldyBNRENTbmFja2JhcihET00oJy5tZGMtc25hY2tiYXInKSlcclxuXHR2YXIgc2hvcnRjdXRTbmFwc2hvdCA9ICcnO1xyXG5cdHZhciBrZXlHcm91cCA9IHtcclxuXHRcdGNvZGVzOiBbXSxcclxuXHRcdHByZXNzaW5nOiBbXVxyXG5cdH07XHJcblxyXG5cdGluaXRpYWxpemVyKCkuRE9NRXZlbnRzKClcclxuXHRpbml0aWFsaXplcigpLmVsZW1lbnRzVmFsdWVzKClcclxuXHRpbml0aWFsaXplcigpLnN0b3JhZ2VFdmVudHMoKVxyXG5cclxuXHJcblxyXG5cdC8vLy8vLy8vLy8vLy8vLy8vLyBJTVBMRU1FTlRBVElPTiAvLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcblx0ZnVuY3Rpb24gaW5pdGlhbGl6ZXIoKSB7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbml0aWFsaXplcyBET00gZXZlbnRzIGxpc3RlbmVyc1xyXG5cdFx0ICovXHJcblx0XHRmdW5jdGlvbiBET01FdmVudHMoKSB7XHJcblx0XHRcdERPTSgnLmpzLXBvcHVwU2hvcnRjdXQnKS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25LZXlEb3duKTtcclxuXHRcdFx0RE9NKCcuanMtcG9wdXBTaG9ydGN1dCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgb25LZXlVcCk7XHJcblx0XHRcdERPTSgnLmpzLXBvcHVwU2hvcnRjdXQnKS5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIG9uRm9jdXMpO1xyXG5cdFx0XHRET00oJy5qcy1wb3B1cFNob3J0Y3V0JykuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCBvbkZvY3VzT3V0KTtcclxuXHRcdFx0RE9NKCcuanMtcG9wdXBNb2RlJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc2F2ZVBvcHVwTW9kZSk7XHJcblx0XHRcdERPTSgnLmpzLWZhbGxiYWNrTGFuZ3VhZ2UnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzYXZlTGFuZ3VhZ2UpO1xyXG5cdFx0XHRET00oJy5qcy1ubHBMYW5ndWFnZXMnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBzYXZlTmxwTGFuZ3VhZ2VzKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluaXRpYWxpemVzIERPTSBFbGVtZW50cyB2YWx1ZXNcclxuXHRcdCAqL1xyXG5cdFx0ZnVuY3Rpb24gZWxlbWVudHNWYWx1ZXMoKSB7XHJcblx0XHRcdHN5bmNWYWx1ZXMoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluaXRpYWxpemVzIHN0b3JhZ2UgY2hhbmdlcyBsaXN0ZW5lcnMuXHJcblx0XHQgKi9cclxuXHRcdGZ1bmN0aW9uIHN0b3JhZ2VFdmVudHMoKSB7XHJcblx0XHRcdHBvcG92ZXJEQi5vbkNoYW5nZXMoc3luY1ZhbHVlcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0RE9NRXZlbnRzLFxyXG5cdFx0XHRlbGVtZW50c1ZhbHVlcyxcclxuXHRcdFx0c3RvcmFnZUV2ZW50c1xyXG5cdFx0fTtcclxuXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBvbkZvY3VzKGV2KSB7XHJcblx0XHR2YXIgdmFsID0gRE9NKCcuanMtcG9wdXBTaG9ydGN1dCcpLnZhbHVlO1xyXG5cdFx0aWYgKHZhbCkge1xyXG5cdFx0XHRzaG9ydGN1dFNuYXBzaG90ID0gdmFsO1xyXG5cdFx0fVxyXG5cdFx0RE9NKCcuanMtcG9wdXBTaG9ydGN1dCcpLnZhbHVlID0gJyc7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBvbkZvY3VzT3V0KGV2KSB7XHJcblx0XHRpZiAoRE9NKCcuanMtcG9wdXBTaG9ydGN1dCcpLnZhbHVlKSB7XHJcblx0XHRcdHNhdmVTaG9ydGN1dCgpO1xyXG5cdFx0XHRzbmFja2Jhci5zaG93KHsgbWVzc2FnZTogJ1Nob3J0Y3V0IHNhdmVkIScgfSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRET00oJy5qcy1wb3B1cFNob3J0Y3V0JykudmFsdWUgPSBzaG9ydGN1dFNuYXBzaG90O1xyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIG9uS2V5RG93bihldikge1xyXG5cdFx0Y29uc29sZS5sb2coa2V5R3JvdXAucHJlc3NpbmcpO1xyXG5cdFx0aWYgKGtleUdyb3VwLnByZXNzaW5nLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRrZXlHcm91cC5jb2RlcyA9IFtdO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGtleUdyb3VwLmNvZGVzLmxlbmd0aCA8IDMgJiYgIWtleUdyb3VwLmNvZGVzLmluY2x1ZGVzKGV2LmNvZGUpKSB7XHJcblx0XHRcdGtleUdyb3VwLnByZXNzaW5nLnB1c2goZXYua2V5Q29kZSk7XHJcblx0XHRcdGtleUdyb3VwLmNvZGVzLnB1c2goZXYuY29kZSk7XHJcblx0XHRcdERPTSgnLmpzLXBvcHVwU2hvcnRjdXQnKS52YWx1ZSA9IGtleUdyb3VwLmNvZGVzLnRvU3RyaW5nKCk7XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gb25LZXlVcChldikge1xyXG5cdFx0Y29uc29sZS5sb2coa2V5R3JvdXAucHJlc3NpbmcpO1xyXG5cdFx0dmFyIGluZGV4ID0ga2V5R3JvdXAuY29kZXMuaW5kZXhPZihldi5jb2RlKTtcclxuXHRcdGlmIChpbmRleCAhPT0gLTEpIHtcclxuXHRcdFx0a2V5R3JvdXAucHJlc3Npbmcuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRhc3luYyBmdW5jdGlvbiBzeW5jVmFsdWVzKG9sZFYsIG5ld1YpIHtcclxuXHRcdHZhciBmYWxsYmFja0xhbmcgPSBuZXdWICYmIG5ld1ZbJ2ZhbGxiYWNrTGFuZyddIHx8IGF3YWl0IHBvcG92ZXJEQi5yZXRyaWV2ZSgnZmFsbGJhY2tMYW5nJyk7XHJcblx0XHR2YXIgcG9wdXBNb2RlID0gbmV3ViAmJiBuZXdWWydwb3B1cE1vZGUnXSB8fCBhd2FpdCBwb3BvdmVyREIucmV0cmlldmUoJ3BvcHVwTW9kZScpO1xyXG5cdFx0dmFyIG5scExhbmdzID0gbmV3ViAmJiBuZXdWWydubHBMYW5ncyddIHx8IGF3YWl0IHBvcG92ZXJEQi5yZXRyaWV2ZSgnbmxwTGFuZ3MnKTtcclxuXHRcdHZhciBzaG9ydGN1dCA9IG5ld1YgJiYgbmV3Vlsnc2hvcnRjdXQnXSB8fCBhd2FpdCBwb3BvdmVyREIucmV0cmlldmUoJ3Nob3J0Y3V0Jyk7XHJcblxyXG5cdFx0RE9NKCcuanMtZmFsbGJhY2tMYW5ndWFnZScpLnZhbHVlID0gZmFsbGJhY2tMYW5nO1xyXG5cdFx0RE9NKCcuanMtcG9wdXBNb2RlJykudmFsdWUgPSBwb3B1cE1vZGU7XHJcblx0XHRET00oJy5qcy1wb3B1cFNob3J0Y3V0JykudmFsdWUgPSBzaG9ydGN1dC50b1N0cmluZygpO1xyXG5cclxuXHRcdHZhciBjaGVja2JveExpc3QgPSBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1ubHBMYW5nJyk7XHJcblx0XHRjaGVja2JveExpc3QuZm9yRWFjaChjaGtieCA9PiB7XHJcblx0XHRcdGlmIChubHBMYW5ncy5pbmNsdWRlcyhjaGtieC52YWx1ZSkpIHtcclxuXHRcdFx0XHRjaGtieC5jaGVja2VkID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBzYXZlTGFuZ3VhZ2UoKSB7XHJcblx0XHR2YXIgZmFsbGJhY2tMYW5ndWFnZSA9IERPTSgnLmpzLWZhbGxiYWNrTGFuZ3VhZ2UnKS52YWx1ZTtcclxuXHRcdHBvcG92ZXJEQi51cGRhdGUoJ2ZhbGxiYWNrTGFuZycsIGZhbGxiYWNrTGFuZ3VhZ2UpLnRoZW4ocmVzcCA9PiB7XHJcblx0XHRcdHNuYWNrYmFyLnNob3coeyBtZXNzYWdlOiAnIOKclCBMYW5ndWFnZSBkZWZpbml0aW9ucyBzYXZlZCcgfSk7XHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gc2F2ZVBvcHVwTW9kZSgpIHtcclxuXHRcdHZhciBwb3B1cE1vZGUgPSBET00oJy5qcy1wb3B1cE1vZGUnKS52YWx1ZTtcclxuXHRcdHBvcG92ZXJEQi51cGRhdGUoJ3BvcHVwTW9kZScsIHBvcHVwTW9kZSkudGhlbihyZXNwID0+IHtcclxuXHRcdFx0c25hY2tiYXIuc2hvdyh7IG1lc3NhZ2U6ICfinJQgUG9wdXAgdHJpZ2dlciBkZWZpbml0aW9ucyBzYXZlZCcgfSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHNhdmVTaG9ydGN1dCgpIHtcclxuXHRcdHZhciBzaG9ydGN1dCA9IGtleUdyb3VwLmNvZGVzO1xyXG5cdFx0cG9wb3ZlckRCLnVwZGF0ZSgnc2hvcnRjdXQnLCBzaG9ydGN1dClcclxuXHRcdFx0LnRoZW4ocmVzcCA9PiB7XHJcblx0XHRcdFx0c25hY2tiYXIuc2hvdyh7IG1lc3NhZ2U6ICfinJQgU2hvcnRjdXQgZGVmaW5pdGlvbnMgc2F2ZWQnIH0pO1xyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHNhdmVObHBMYW5ndWFnZXMoKSB7XHJcblx0XHR2YXIgbGFuZ3VhZ2VzID0gW107XHJcblx0XHR2YXIgY2hlY2tib3hMaXN0ID0gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKCcuanMtbmxwTGFuZycpO1xyXG5cclxuXHRcdGNoZWNrYm94TGlzdC5mb3JFYWNoKGNoa2J4ID0+IHtcclxuXHRcdFx0aWYgKGNoa2J4LmNoZWNrZWQpIHtcclxuXHRcdFx0XHRsYW5ndWFnZXMucHVzaChjaGtieC52YWx1ZSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0cG9wb3ZlckRCLnVwZGF0ZSgnbmxwTGFuZ3MnLCBsYW5ndWFnZXMpLnRoZW4ocmVzcCA9PiB7XHJcblx0XHRcdHNuYWNrYmFyLnNob3coeyBtZXNzYWdlOiAn4pyUIFNlYXJjaCBMYW5ndWFnZXMgZGVmaW5pdGlvbnMgc2F2ZWQnIH0pO1xyXG5cdFx0fSk7XHJcblx0fVxyXG59KCkpOyIsIigoKSA9PiB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHJcblx0LyoqXHJcblx0ICogTWFuYWdlcyBhbmQgZmFjaWxpdGF0ZSBzdG9yYWdlIChjaHJvbWUuc3RvcmFnZS5zeW5jKSByZXF1ZXN0cyBhbmQgd2F0Y2hlcnMuXHJcblx0ICovXHJcblx0Y2xhc3MgUG9wb3ZlckRCIHtcclxuXHJcblx0XHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdFx0dGhpcy5fZXJyb3JDb2RlID0ge1xyXG5cdFx0XHRcdDE6IGtleSA9PiBgT2JqZWN0IFwiJHtrZXl9XCIgbm90IGZvdW5kYCxcclxuXHRcdFx0XHQyOiAoa2V5LCBwcm9wZXJ0eSkgPT4gYE9iamVjdCBwcm9wZXJ0eSBcIiR7a2V5fS4ke3Byb3BlcnR5fVwiIG5vdCBmb3VuZCBpbiBzdG9yYWdlLmAsXHJcblx0XHRcdFx0MzogcHJvcGVydHkgPT4gYE9iamVjdCBwcm9wZXJ0eSBcIi4ke3Byb3BlcnR5fVwiIG5vdCBmb3VuZCBpbiBzdG9yYWdlLmBcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHRoaXMuX2VuY29kZVByb3AgPSBwcm9wZXJ0eU5hbWUgPT4ge1xyXG5cclxuXHRcdFx0XHRsZXQgcHJvcHMgPSB7XHJcblx0XHRcdFx0XHRpc0VuYWJsZWQ6IDUsXHJcblx0XHRcdFx0XHRmYWxsYmFja0xhbmc6IDEsXHJcblx0XHRcdFx0XHRubHBMYW5nczogNCxcclxuXHRcdFx0XHRcdHNob3J0Y3V0OiAzLFxyXG5cdFx0XHRcdFx0cG9wdXBNb2RlOiAyXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gcHJvcHNbcHJvcGVydHlOYW1lXTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5fZGVjb2RlUHJvcCA9IHByb3BlcnR5TmFtZSA9PiB7XHJcblxyXG5cdFx0XHRcdGxldCBwcm9wcyA9IHtcclxuXHRcdFx0XHRcdDU6ICdpc0VuYWJsZWQnLFxyXG5cdFx0XHRcdFx0MTogJ2ZhbGxiYWNrTGFuZycsXHJcblx0XHRcdFx0XHQ0OiAnbmxwTGFuZ3MnLFxyXG5cdFx0XHRcdFx0MzogJ3Nob3J0Y3V0JyxcclxuXHRcdFx0XHRcdDI6ICdwb3B1cE1vZGUnXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gcHJvcHNbcHJvcGVydHlOYW1lXTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5fZGVjb2RlT2JqID0gb2JqID0+IHtcclxuXHRcdFx0XHRsZXQgZGVjb2RlZE9iaiA9IHt9O1xyXG5cdFx0XHRcdE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChrZXkgPT4ge1xyXG5cdFx0XHRcdFx0ZGVjb2RlZE9ialt0aGlzLl9kZWNvZGVQcm9wKGtleSldID0gb2JqW2tleV07XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdHJldHVybiBkZWNvZGVkT2JqO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdHVwZGF0ZShwcm9wZXJ0eSwgdmFsdWUpIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHR2YXIgZGF0YVN0cmluZyA9ICcnO1xyXG5cdFx0XHRcdHZhciBkYXRhID0gYXdhaXQgdGhpcy5yZXRyaWV2ZSgpO1xyXG5cclxuXHRcdFx0XHRkYXRhW3RoaXMuX2VuY29kZVByb3AocHJvcGVydHkpXSA9IHZhbHVlO1xyXG5cdFx0XHRcdGRhdGFTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxuXHJcblx0XHRcdFx0Y2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoe1xyXG5cdFx0XHRcdFx0d2xkdDogZGF0YVN0cmluZ1xyXG5cdFx0XHRcdH0sICgpID0+IHJlc29sdmUodHJ1ZSkpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXRyaWV2ZShwcm9wZXJ0eSA9ICcnKSB7XHJcblx0XHRcdHZhciBlcnJvckNvdW50ID0gMDtcclxuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0XHR2YXIgZGF0YVN0cmluZyA9ICcnO1xyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRkYXRhU3RyaW5nID0gYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldCgnd2xkdCcsIG9iaiA9PiByZXNvbHZlKG9ialsnd2xkdCddKSkpO1xyXG5cdFx0XHRcdFx0dmFyIGRhdGEgPSBKU09OLnBhcnNlKGRhdGFTdHJpbmcpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChwcm9wZXJ0eS5sZW5ndGggPiAwKVxyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKGRhdGFbdGhpcy5fZW5jb2RlUHJvcChwcm9wZXJ0eSldKVxyXG5cdFx0XHRcdFx0ZWxzZSByZXNvbHZlKGRhdGEpO1xyXG5cclxuXHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0ZXJyb3JDb3VudCArPSAxO1xyXG5cdFx0XHRcdFx0aWYgKGVycm9yQ291bnQgPj0gMikge1xyXG5cdFx0XHRcdFx0XHRyZWplY3QoZXJyb3IpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0bGV0IHdpa2lsaW5rRGF0YSA9IEpTT04uc3RyaW5naWZ5KHtcclxuXHRcdFx0XHRcdFx0XHQxOiAnZW4nLFxyXG5cdFx0XHRcdFx0XHRcdDI6ICdzaG9ydGN1dCcsXHJcblx0XHRcdFx0XHRcdFx0MzogWydTaGlmdExlZnQnLCAnQWx0TGVmdCddLFxyXG5cdFx0XHRcdFx0XHRcdDQ6IFsncG9yJywgJ2VuZycsICdlc3AnLCAncnVzJ10sXHJcblx0XHRcdFx0XHRcdFx0NTogdHJ1ZVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0Y2hyb21lLnN0b3JhZ2Uuc3luYy5zZXQoeyB3bGR0OiB3aWtpbGlua0RhdGEgfSwgKCkgPT4gdGhpcy5yZXRyaWV2ZShwcm9wZXJ0eSkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIExpc3RlbnMgdG8gc3RvcmFnZSBjaGFuZ2VzIGluIGdpdmVuIG9iamVjdCBhbmQgZXhlY3V0ZXMgYSBmdW5jdGlvbiBpbiBhIG9uQ2hhbmdlZCBldmVudC5cclxuXHRcdCAqIEBwYXJhbSB7Kn0gb2JqTmFtZSBUaGUgbmFtZSBvZiB0aGUgb2JqZWN0IGluIHRoZSBzdG9yYWdlIHRvIGxpc3RlbnMuXHJcblx0XHQgKiBAcmV0dXJucyB7b2JqZWN0fSBBIGZ1bmN0aW9uIHRvIHBhc3MgYXMgYW4gYXJndW1lbnQgdGhlIGZ1bmN0aW9uIHRvIGV4ZWN1dGUgb24gZXZlbnQuXHJcblx0XHQgKi9cclxuXHRcdG9uQ2hhbmdlcyhmbikge1xyXG5cclxuXHRcdFx0dmFyIGRlY29kZWRPYmogPSB0aGlzLl9kZWNvZGVPYmo7XHJcblxyXG5cdFx0XHRjaHJvbWUuc3RvcmFnZS5vbkNoYW5nZWQuYWRkTGlzdGVuZXIoKGNoYW5nZXMsIGFyZWFOYW1lKSA9PiB7XHJcblx0XHRcdFx0Ly9Qb3BvdmVyIGVuYWJsZWQgc3RhdGUgY2hhbmdlZFxyXG5cdFx0XHRcdGlmIChjaGFuZ2VzWyd3bGR0J10pIHtcclxuXHRcdFx0XHRcdGZuKGRlY29kZWRPYmooSlNPTi5wYXJzZShjaGFuZ2VzWyd3bGR0J10ub2xkVmFsdWUpKSwgZGVjb2RlZE9iaihKU09OLnBhcnNlKGNoYW5nZXNbJ3dsZHQnXS5uZXdWYWx1ZSkpKTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdG1vZHVsZS5leHBvcnRzID0gbmV3IFBvcG92ZXJEQigpO1xyXG5cclxufSkoKTsiXX0="}